{"version":3,"sources":["company.js"],"names":["$","_Base","jQuery","support","cors","t","window","Base","_defineProperty","site","language","navigator","browserLanguage","toLowerCase","versions","userAgent","e","match","trident","presto","appVersion","gecko","indexOf","wechat","qq","weibo","webKit","ios","android","arguments","document","iPhone","n","iPad","webApp","i","clientWidth","style","fontSize","getPropertyValue","o","addEventListener","setSeo","documentElement","res","console","log","attr","data","alert","message","toggle","toggleClass","that","this","getAjax","showNav","status","datas","swiperSlides","companyList","forEach","ele","imgSite","logo","link_url","str_title","html","getQueryString","name","reg","RegExp","r","location","search","substr","context","imgLoad","image","Image","onload","onerror","src","url","fns","fnf","ajax","type","dataType","success","postAjax","text","title","on","init"],"mappings":"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","file":"company.js","sourcesContent":["$(function () {\r\n  jQuery.support.cors = true;\r\n  let Base = window.Base || {};\r\n  Base = {\r\n    site: 'https://www.doubaner.top',\r\n    language: (navigator.browserLanguage || navigator.language).toLowerCase(),\r\n    versions: function () {\r\n      var e = navigator.userAgent, t = e.toLowerCase();\r\n      navigator.appVersion;\r\n      return {\r\n        wechat: \"micromessenger\" == t.match(/MicroMessenger/i),\r\n        qq: \"qq\" == t.match(/QQ/i),\r\n        weibo: \"weibo\" == t.match(/WeiBo/i),\r\n        trident: e.indexOf(\"Trident\") > -1,\r\n        presto: e.indexOf(\"Presto\") > -1,\r\n        webKit: e.indexOf(\"AppleWebKit\") > -1,\r\n        gecko: e.indexOf(\"Gecko\") > -1 && -1 == e.indexOf(\"KHTML\"),\r\n        mobile: !!e.match(/AppleWebKit.*Mobile.*/),\r\n        ios: !!e.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),\r\n        android: e.indexOf(\"Android\") > -1 || e.indexOf(\"Linux\") > -1,\r\n        iPhone: e.indexOf(\"iPhone\") > -1,\r\n        iPad: e.indexOf(\"iPad\") > -1,\r\n        webApp: -1 == e.indexOf(\"Safari\")\r\n      }\r\n    }(),\r\n    fontSize: function () {\r\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window, t = e.document,\r\n        i = t.documentElement, n = \"orientationchange\" in e ? \"orientationchange\" : \"resize\",\r\n        o = function () {\r\n          var e = i.clientWidth || 375;\r\n          e > 750 && (e = 750), i.style.fontSize = e / 7.5 + \"px\"\r\n        };\r\n      window.getComputedStyle(i, null).getPropertyValue(\"font-size\") <= \"20px\" && o(), t.addEventListener && (e.addEventListener(n, o, !1), t.addEventListener(\"DOMContentLoaded\", o, !1))\r\n    },\r\n    setSeo() {\r\n      let that = this;\r\n      that.getAjax('/seo', {}, function (res) {\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n          $(\"title\").text(res.data.title);\r\n          $(\"meta[name='keywords']\").attr('content', res.data['keywords']);\r\n          $(\"meta[name='description']\").attr('content', res.data['description']);\r\n        } else {\r\n          alert(res.message);\r\n        }\r\n      })\r\n\r\n    },\r\n    showNav() {\r\n      $(\".common-header ol\").toggle();\r\n      $(\"body\").toggleClass('header-active');\r\n    },\r\n    companyList() {\r\n      let that = this;\r\n      that.getAjax('/companyList', {}, function (res) {\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n          let datas = res.data;\r\n          if (datas.length > 0) {\r\n            let swiperSlides = '';\r\n            datas.forEach(ele => {\r\n              let imgSite = that.site + ele.logo;\r\n              swiperSlides += `\r\n                            <li>\r\n                            <a href=\"${ele.link_url}\" target=\"_blank\">\r\n                                <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                            </a>\r\n                            </li>\r\n                            `;\r\n            });\r\n            $(\"#company-list\").html(swiperSlides);\r\n          } else {\r\n            $(\"#company-list\").html('<h3>这里还什么都没有</h3>');\r\n          }\r\n        } else {\r\n          alert(res.message);\r\n        }\r\n      });\r\n    },\r\n    getQueryString: function (name) {\r\n      var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n      var r = window.location.search.substr(1).match(reg); //获取url中\"?\"符后的字符串并正则匹配\r\n      var context = \"\";\r\n      if (r != null)\r\n        context = r[2];\r\n      reg = null;\r\n      r = null;\r\n      return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n    },\r\n    imgLoad() {\r\n      let image = new Image();\r\n      image.onload = function () {\r\n        console.log('success');\r\n      },\r\n        image.onerror = function () {\r\n          this.src = that.site + +this.src;\r\n        }\r\n    },\r\n    getAjax(url, datas, fns, fnf) {\r\n      $.ajax({\r\n        type: \"GET\",\r\n        url: this.site + url,\r\n        data: datas,\r\n        dataType: 'JSON',\r\n        success: fns,\r\n        fail: fnf\r\n      });\r\n    },\r\n    postAjax(url, datas, fns, fnf) {\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: this.site + url,\r\n        data: datas,\r\n        dataType: 'json',\r\n        success: fns,\r\n        fail: fnf\r\n      });\r\n    },\r\n    setSeo() {\r\n      let that = this;\r\n      that.getAjax('/seo', {}, function (res) {\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n          $(\"title\").text(res.data.title);\r\n          $(\"meta[name='keywords']\").attr('content', res.data['keywords']);\r\n          $(\"meta[name='description']\").attr('content', res.data['description']);\r\n        } else {\r\n          alert(res.message);\r\n        }\r\n      })\r\n\r\n    },\r\n    init() {\r\n      console.log('111');\r\n      let that = this;\r\n      that.companyList();\r\n      that.fontSize();\r\n      that.setSeo();\r\n      $(\".common-header ul\").on('click', function () {\r\n        that.showNav();\r\n      });\r\n    }\r\n  };\r\n  Base.init();\r\n});"]}