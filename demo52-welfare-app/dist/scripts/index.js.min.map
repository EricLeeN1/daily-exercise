{"version":3,"sources":["index.js"],"names":["$","jQuery","support","cors","language","browserLanguage","window","Base","site","navigator","toLowerCase","slides","e","versions","appVersion","t","match","weibo","wechat","indexOf","qq","trident","presto","webKit","gecko","mobile","ios","android","webApp","arguments","length","document","i","documentElement","n","fontSize","style","getPropertyValue","o","addEventListener","setSwiper","Swiper","use","getComputedStyle","params","debugger","autoplay","loop","slidesPerView","swiper","lazy","getBannerInfos","this","getAjax","res","console","log","status","text","data","message","welfareDatas","alert","children","aims","countUp","num","total","sumofcinemas","newsList8","column","that","datas","StrategyList","swiperSlides","ele","index","imgSite","str_thumb","str_id","str_title","html","newsList9","forEach","companyList","logo","fns","link_url","fnf","type","success","fail","url","dataType","title","setSeo","attr","toggle","toggleClass","init","on","showNav","setTimeout"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        slides: null,\r\n        language: (navigator.browserLanguage || navigator.language).toLowerCase(),\r\n        versions: function () {\r\n            var e = navigator.userAgent, t = e.toLowerCase();\r\n            navigator.appVersion;\r\n            return {\r\n                wechat: \"micromessenger\" == t.match(/MicroMessenger/i),\r\n                qq: \"qq\" == t.match(/QQ/i),\r\n                weibo: \"weibo\" == t.match(/WeiBo/i),\r\n                trident: e.indexOf(\"Trident\") > -1,\r\n                presto: e.indexOf(\"Presto\") > -1,\r\n                webKit: e.indexOf(\"AppleWebKit\") > -1,\r\n                gecko: e.indexOf(\"Gecko\") > -1 && -1 == e.indexOf(\"KHTML\"),\r\n                mobile: !!e.match(/AppleWebKit.*Mobile.*/),\r\n                ios: !!e.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),\r\n                android: e.indexOf(\"Android\") > -1 || e.indexOf(\"Linux\") > -1,\r\n                iPhone: e.indexOf(\"iPhone\") > -1,\r\n                iPad: e.indexOf(\"iPad\") > -1,\r\n                webApp: -1 == e.indexOf(\"Safari\")\r\n            }\r\n        }(),\r\n        fontSize: function () {\r\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window, t = e.document,\r\n                i = t.documentElement, n = \"orientationchange\" in e ? \"orientationchange\" : \"resize\",\r\n                o = function () {\r\n                    var e = i.clientWidth || 375;\r\n                    e > 750 && (e = 750), i.style.fontSize = e / 7.5 + \"px\"\r\n                };\r\n            window.getComputedStyle(i, null).getPropertyValue(\"font-size\") <= \"20px\" && o(), t.addEventListener && (e.addEventListener(n, o, !1), t.addEventListener(\"DOMContentLoaded\", o, !1))\r\n        },\r\n        setSwiper() {\r\n            let that = this;\r\n            let myPlugin = {\r\n                name: 'debugger',\r\n                params: {\r\n                    debugger: false,\r\n                },\r\n                // on: {\r\n                //     init: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('init');\r\n                //     },\r\n                //     click: function (e) {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('click');\r\n                //     },\r\n                //     tap: function (e) {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('tap');\r\n                //     },\r\n                //     doubleTap: function (e) {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('doubleTap');\r\n                //     },\r\n                //     sliderMove: function (e) {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('sliderMove');\r\n                //     },\r\n                //     slideChange: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('slideChange', this.previousIndex, '->', this.activeIndex);\r\n                //     },\r\n                //     slideChangeTransitionStart: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('slideChangeTransitionStart');\r\n                //     },\r\n                //     slideChangeTransitionEnd: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('slideChangeTransitionEnd');\r\n                //     },\r\n                //     transitionStart: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('transitionStart');\r\n                //     },\r\n                //     transitionEnd: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('transitionEnd');\r\n                //     },\r\n                //     fromEdge: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('fromEdge');\r\n                //     },\r\n                //     reachBeginning: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('reachBeginning');\r\n                //     },\r\n                //     reachEnd: function () {\r\n                //         if (!this.params.debugger) return;\r\n                //         // console.log('reachEnd');\r\n                //     },\r\n                // }\r\n                // on: {\r\n                //     progress: function (progress) {\r\n                //         for (let i = 0; i < that.slides.length; i++) {\r\n                //             slide = that.slides.eq(i);\r\n                //             slideProgress = that.slides[i].progress;\r\n                //             if (i == 4) {\r\n                //                 prevIndent = 0.3228;\r\n                //             } else {\r\n                //                 prevIndent = 0.0898;\r\n                //             }\r\n                //\r\n                //             if (Math.abs(slideProgress + prevIndent) < 1) {\r\n                //                 scale = (1 - Math.abs(slideProgress + prevIndent)) * 0.1 + 1\r\n                //             } else {\r\n                //                 scale = 1;\r\n                //             }\r\n                //\r\n                //             slide.find('a').transform('scale3d(' + scale + ',' + scale + ',1)');\r\n                //         }\r\n                //     },\r\n                //     setTransition: function (transition) {\r\n                //         for (var i = 0; i < that.slides.length; i++) {\r\n                //             var slide = that.slides.eq(i);\r\n                //             slide.find('a').transition(transition);\r\n                //         }\r\n                //\r\n                //     },\r\n                //\r\n                //     //处理左侧拖入时背景图消失\r\n                //     touchMove: function () {\r\n                //         if (this.progress < 0.01) {\r\n                //             this.controller.control = '';\r\n                //         } else {\r\n                //             this.controller.control = swiperBg;\r\n                //         }\r\n                //     },\r\n                //     touchEnd: function () {\r\n                //         if (this.translate < -1515) {\r\n                //             alert('跳转');\r\n                //         }\r\n                //     }\r\n                // }\r\n            };\r\n            // Install Plugin To Swiper\r\n            Swiper.use(myPlugin);\r\n            // Init Swiper\r\n            let swiper = new Swiper('#action-list', {\r\n                autoplay: false,\r\n                loop: true,\r\n                lazy: true,\r\n                slidesPerView: 'auto',\r\n                slidesOffsetBefore: 38,\r\n                slidesOffsetAfter: 40,\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                    clickable: true,\r\n                },\r\n                // Enable debugger\r\n                // debugger: true,\r\n            });\r\n        },\r\n        getBannerInfos() {\r\n            this.getAjax('/intro', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\".banner>.activity-des>p\").text(res.data);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        welfareDatas() {\r\n            this.getAjax('/data', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"#donate ul li:eq(0) a\").children('h3').text(res.data.aims).countUp();\r\n                    $(\"#donate ul li:eq(1) a\").children('h3').text(res.data.num).countUp();\r\n                    $(\"#donate ul li:eq(2) a\").children('h3').text(res.data.total).countUp();\r\n                    $(\"#donate ul li:eq(3) a\").children('h3').text(res.data.sumofcinemas).countUp();\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        newsList8() {\r\n            let that = this;\r\n            this.getAjax('/newsList/column/8', {\r\n                column: 8\r\n            }, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data.StrategyList;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach((ele, index) => {\r\n                            let imgSite = that.site + ele.str_thumb;\r\n                            if (index < 4) {\r\n                                swiperSlides += `\r\n                            <li>\r\n                                <a href=\"./news.html?id=${ele.str_id}\" data-id=\"${ele.str_id}\">\r\n                                    <div>\r\n                                        <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                                    </div>\r\n                                    <p>${ele.str_title}</p>\r\n                                </a>\r\n                            </li>\r\n                            `;\r\n                            }\r\n                        });\r\n                        // console.log(swiperSlides);\r\n                        $(\"#star>ul\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#star>ul\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        newsList9() {\r\n            let that = this;\r\n            that.getAjax('/newsList/column/9', {\r\n                column: 9\r\n            }, function (res) {\r\n                // console.log('9');\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data.StrategyList;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach((ele) => {\r\n                            let imgSite = that.site + ele.str_thumb;\r\n\r\n                            swiperSlides += `\r\n                            <a href=\"./news.html?id=${ele.str_id}\" class=\"swiper-slide\" data-id=\"${ele.str_id}\">\r\n                               <div>\r\n                                    <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                               </div>\r\n                               <p>${ele.str_title}</p>\r\n                            </a>`;\r\n                            that.slides = swiperSlides;\r\n                        });\r\n                        $(\"#action-list>.swiper-wrapper\").html(swiperSlides);\r\n                        //3d\r\n                    } else {\r\n                        $(\"#action-list>.swiper-wrapper\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        companyList() {\r\n            let that = this;\r\n            that.getAjax('/companyList', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach((ele, index) => {\r\n                            let imgSite = that.site + ele.logo;\r\n                            if (index < 9) {\r\n                                swiperSlides += `\r\n                            <li>\r\n                                <a href=\"${ele.link_url}\" class=\"swiper-slide\" target=\"_blank\">\r\n                                    <img src=\"${imgSite}\" alt=\"${ele.link_url}\">\r\n                                </a>\r\n                            </li>\r\n                            `;\r\n                            }\r\n                        });\r\n                        $(\"#company>ul\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#company>ul\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        setSeo() {\r\n            let that = this;\r\n            that.getAjax('/seo', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"title\").text(res.data.title);\r\n                    $(\"meta[name='keywords']\").attr('content', res.data['keywords']);\r\n                    $(\"meta[name='description']\").attr('content', res.data['description']);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            })\r\n\r\n        },\r\n        showNav() {\r\n\r\n            $(\".common-header ol\").toggle();\r\n            $(\"body\").toggleClass('header-active');\r\n        },\r\n        init() {\r\n            console.log('111');\r\n            let that = this;\r\n            that.fontSize();\r\n            that.setSeo();\r\n            $(\".common-header ul\").on('click', function () {\r\n                that.showNav();\r\n            });\r\n            that.getBannerInfos();\r\n            that.welfareDatas();\r\n            that.newsList8();\r\n            that.newsList9();\r\n            that.companyList();\r\n            setTimeout(() => {\r\n                that.setSwiper();\r\n            }, 1000);\r\n        }\r\n    }\r\n    Base.init();\r\n});"]}