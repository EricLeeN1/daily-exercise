{"version":3,"sources":["index.js"],"names":["$","jQuery","support","cors","language","browserLanguage","window","Base","navigator","toLowerCase","site","e","versions","appVersion","t","match","weibo","wechat","indexOf","qq","trident","presto","webKit","gecko","mobile","ios","android","webApp","arguments","length","document","i","documentElement","n","fontSize","style","getPropertyValue","o","addEventListener","getBannerInfos","console","log","res","getComputedStyle","text","data","getAjax","message","welfareDatas","alert","status","children","aims","countUp","num","total","sumofcinemas","newsList8","this","column","that","datas","StrategyList","swiperSlides","forEach","ele","imgSite","str_thumb","str_id","str_title","html","newsList9","index","companyList","logo","link_url","success","fns","postAjax","url","fnf","ajax","type","dataType","fail","setSeo","title","attr","init"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        language: (navigator.browserLanguage || navigator.language).toLowerCase(),\r\n        versions: function () {\r\n            var e = navigator.userAgent, t = e.toLowerCase();\r\n            navigator.appVersion;\r\n            return {\r\n                wechat: \"micromessenger\" == t.match(/MicroMessenger/i),\r\n                qq: \"qq\" == t.match(/QQ/i),\r\n                weibo: \"weibo\" == t.match(/WeiBo/i),\r\n                trident: e.indexOf(\"Trident\") > -1,\r\n                presto: e.indexOf(\"Presto\") > -1,\r\n                webKit: e.indexOf(\"AppleWebKit\") > -1,\r\n                gecko: e.indexOf(\"Gecko\") > -1 && -1 == e.indexOf(\"KHTML\"),\r\n                mobile: !!e.match(/AppleWebKit.*Mobile.*/),\r\n                ios: !!e.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),\r\n                android: e.indexOf(\"Android\") > -1 || e.indexOf(\"Linux\") > -1,\r\n                iPhone: e.indexOf(\"iPhone\") > -1,\r\n                iPad: e.indexOf(\"iPad\") > -1,\r\n                webApp: -1 == e.indexOf(\"Safari\")\r\n            }\r\n        }(),\r\n        fontSize: function () {\r\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window, t = e.document,\r\n                i = t.documentElement, n = \"orientationchange\" in e ? \"orientationchange\" : \"resize\",\r\n                o = function () {\r\n                    var e = i.clientWidth || 375;\r\n                    e > 750 && (e = 750), i.style.fontSize = e / 7.5 + \"px\"\r\n                };\r\n            window.getComputedStyle(i, null).getPropertyValue(\"font-size\") <= \"20px\" && o(), t.addEventListener && (e.addEventListener(n, o, !1), t.addEventListener(\"DOMContentLoaded\", o, !1))\r\n        },\r\n        getBannerInfos() {\r\n            this.getAjax('/intro', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\".banner>.activity-des>p\").text(res.data);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        welfareDatas() {\r\n            this.getAjax('/data', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"#donate ul li:eq(0) a\").children('h3').text(res.data.aims).countUp();\r\n                    $(\"#donate ul li:eq(1) a\").children('h3').text(res.data.num).countUp();\r\n                    $(\"#donate ul li:eq(2) a\").children('h3').text(res.data.total).countUp();\r\n                    $(\"#donate ul li:eq(3) a\").children('h3').text(res.data.sumofcinemas).countUp();\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        newsList8() {\r\n            let that = this;\r\n            this.getAjax('/newsList/column/8', {\r\n                column: 8\r\n            }, function (res) {\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data.StrategyList;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach(ele => {\r\n                            let imgSite = that.site + ele.str_thumb;\r\n                            swiperSlides += `\r\n                            <a href=\"./news.html?id=${ele.str_id}\" class=\"swiper-slide\" data-id=\"${ele.str_id}\">\r\n                                <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                                <h3>${ele.str_title}</h3>\r\n                            </a>\r\n                            `;\r\n                        });\r\n                        // console.log(swiperSlides);\r\n                        $(\"#action>.swiper-wrapper\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#action>.swiper-wrapper\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        newsList9() {\r\n            let that = this;\r\n            that.getAjax('/newsList/column/9', {\r\n                column: 9\r\n            }, function (res) {\r\n                // console.log('9');\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data.StrategyList;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach((ele, index) => {\r\n                            let imgSite = that.site + ele.str_thumb;\r\n                            swiperSlides +=\r\n                                `<a href=\"./news.html?id=${ele.str_id}\" class=\"swiper-slide\" data-id=\"${ele.str_id}\">\r\n                           <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                           <h3>${ele.str_title}</h3>\r\n                           </a>`\r\n                        });\r\n                        $(\"#donate-star>.swiper-wrapper\").html(swiperSlides);\r\n                        //3d\r\n                    } else {\r\n                        $(\"#donate-star>.swiper-wrapper\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        companyList() {\r\n            let that = this;\r\n            that.getAjax('/companyList', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach((ele, index) => {\r\n                            let imgSite = that.site + ele.logo;\r\n                            if (index < 9) {\r\n                                swiperSlides += `\r\n                            <li>\r\n                                <a href=\"${ele.link_url}\" class=\"swiper-slide\" target=\"_blank\">\r\n                                    <img src=\"${imgSite}\" alt=\"${ele.link_url}\">\r\n                                </a>\r\n                            </li>\r\n                            `;\r\n                            }\r\n                        });\r\n                        $(\"#company>ul\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#company>ul\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        setSeo() {\r\n            let that = this;\r\n            that.getAjax('/seo', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"title\").text(res.data.title);\r\n                    $(\"meta[name='keywords']\").attr('content', res.data['keywords']);\r\n                    $(\"meta[name='description']\").attr('content', res.data['description']);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            })\r\n\r\n        },\r\n        init() {\r\n            console.log('111');\r\n            let that = this;\r\n            that.fontSize();\r\n            that.setSeo();\r\n            that.getBannerInfos();\r\n            that.welfareDatas();\r\n            that.newsList8();\r\n            that.newsList9();\r\n            that.companyList();\r\n        }\r\n    }\r\n    Base.init();\r\n});"]}