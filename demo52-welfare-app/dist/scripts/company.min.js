"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$(function(){var e;jQuery.support.cors=!0;var t,n;window.Base;_defineProperty(e={site:"https://www.doubaner.top",language:(navigator.browserLanguage||navigator.language).toLowerCase(),versions:(t=navigator.userAgent,n=t.toLowerCase(),navigator.appVersion,{wechat:"micromessenger"==n.match(/MicroMessenger/i),qq:"qq"==n.match(/QQ/i),weibo:"weibo"==n.match(/WeiBo/i),trident:-1<t.indexOf("Trident"),presto:-1<t.indexOf("Presto"),webKit:-1<t.indexOf("AppleWebKit"),gecko:-1<t.indexOf("Gecko")&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<t.indexOf("Android")||-1<t.indexOf("Linux"),iPhone:-1<t.indexOf("iPhone"),iPad:-1<t.indexOf("iPad"),webApp:-1==t.indexOf("Safari")}),fontSize:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,t=e.document,n=t.documentElement,i="orientationchange"in e?"orientationchange":"resize",o=function(){var e=n.clientWidth||375;750<e&&(e=750),n.style.fontSize=e/7.5+"px"};window.getComputedStyle(n,null).getPropertyValue("font-size")<="20px"&&o(),t.addEventListener&&(e.addEventListener(i,o,!1),t.addEventListener("DOMContentLoaded",o,!1))},setSeo:function(){this.getAjax("/seo",{},function(e){console.log(e),200==e.status?($("title").text(e.data.title),$("meta[name='keywords']").attr("content",e.data.keywords),$("meta[name='description']").attr("content",e.data.description)):alert(e.message)})},showNav:function(){$(".common-header ol").toggle(),$("body").toggleClass("header-active")},companyList:function(){var i=this;i.getAjax("/companyList",{},function(e){if(console.log(e),200==e.status){var t=e.data;if(0<t.length){var n="";t.forEach(function(e){var t=i.site+e.logo;n+='\n                            <li>\n                            <a href="'+e.link_url+'" target="_blank">\n                                <img src="'+t+'" alt="'+e.str_title+'">\n                            </a>\n                            </li>\n                            '}),$("#company-list").html(n)}else $("#company-list").html("<h3>这里还什么都没有</h3>")}else alert(e.message)})},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t),i="";return null!=n&&(i=n[2]),(n=t=null)==i||""==i||"undefined"==i?"":i},imgLoad:function(){var e=new Image;e.onload=function(){console.log("success")},e.onerror=function(){this.src=that.site+ +this.src}},getAjax:function(e,t,n,i){$.ajax({type:"GET",url:this.site+e,data:t,dataType:"JSON",success:n,fail:i})},postAjax:function(e,t,n,i){$.ajax({type:"POST",url:this.site+e,data:t,dataType:"json",success:n,fail:i})}},"setSeo",function(){this.getAjax("/seo",{},function(e){console.log(e),200==e.status?($("title").text(e.data.title),$("meta[name='keywords']").attr("content",e.data.keywords),$("meta[name='description']").attr("content",e.data.description)):alert(e.message)})}),_defineProperty(e,"init",function(){console.log("111");var e=this;e.companyList(),e.fontSize(),e.setSeo(),$(".common-header ul").on("click",function(){e.showNav()})}),e.init()});
//# sourceMappingURL=company.js.map
