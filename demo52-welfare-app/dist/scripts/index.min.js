"use strict";$(function(){jQuery.support.cors=!0;var t,e;window.Base;({site:"https://www.doubaner.top",slides:null,language:(navigator.browserLanguage||navigator.language).toLowerCase(),versions:(t=navigator.userAgent,e=t.toLowerCase(),navigator.appVersion,{wechat:"micromessenger"==e.match(/MicroMessenger/i),qq:"qq"==e.match(/QQ/i),weibo:"weibo"==e.match(/WeiBo/i),trident:-1<t.indexOf("Trident"),presto:-1<t.indexOf("Presto"),webKit:-1<t.indexOf("AppleWebKit"),gecko:-1<t.indexOf("Gecko")&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<t.indexOf("Android")||-1<t.indexOf("Linux"),iPhone:-1<t.indexOf("iPhone"),iPad:-1<t.indexOf("iPad"),webApp:-1==t.indexOf("Safari")}),fontSize:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,e=t.document,n=e.documentElement,a="orientationchange"in t?"orientationchange":"resize",i=function(){var t=n.clientWidth||375;750<t&&(t=750),n.style.fontSize=t/7.5+"px"};window.getComputedStyle(n,null).getPropertyValue("font-size")<="20px"&&i(),e.addEventListener&&(t.addEventListener(a,i,!1),e.addEventListener("DOMContentLoaded",i,!1))},setSwiper:function(){Swiper.use({name:"debugger",params:{debugger:!1}});new Swiper("#action-list",{autoplay:!1,loop:!0,lazy:!0,slidesPerView:"auto",slidesOffsetBefore:38,slidesOffsetAfter:40,pagination:{el:".swiper-pagination",clickable:!0}})},getBannerInfos:function(){this.getAjax("/intro",{},function(t){console.log(t),200==t.status?$(".banner>.activity-des>p").text(t.data):alert(t.message)})},welfareDatas:function(){this.getAjax("/data",{},function(t){console.log(t),200==t.status?($("#donate ul li:eq(0) a").children("h3").text(t.data.aims).countUp(),$("#donate ul li:eq(1) a").children("h3").text(t.data.num).countUp(),$("#donate ul li:eq(2) a").children("h3").text(t.data.total).countUp(),$("#donate ul li:eq(3) a").children("h3").text(t.data.sumofcinemas).countUp()):alert(t.message)})},newsList8:function(){var i=this;this.getAjax("/newsList/column/8",{column:8},function(t){if(console.log(t),200==t.status){var e=t.data.StrategyList;if(0<e.length){var a="";e.forEach(function(t,e){var n=i.site+t.str_thumb;e<4&&(a+='\n                            <li>\n                                <a href="./news.html?id='+t.str_id+'" data-id="'+t.str_id+'">\n                                    <div>\n                                        <img src="'+n+'" alt="'+t.str_title+'">\n                                    </div>\n                                    <p>'+t.str_title+"</p>\n                                </a>\n                            </li>\n                            ")}),$("#star>ul").html(a)}else $("#star>ul").html("<h3>这里还什么都没有</h3>")}else alert(t.message)})},newsList9:function(){var a=this;a.getAjax("/newsList/column/9",{column:9},function(t){if(console.log(t),200==t.status){var e=t.data.StrategyList;if(0<e.length){var n="";e.forEach(function(t){var e=a.site+t.str_thumb;n+='\n                            <a href="./news.html?id='+t.str_id+'" class="swiper-slide" data-id="'+t.str_id+'">\n                               <div>\n                                    <img src="'+e+'" alt="'+t.str_title+'">\n                               </div>\n                               <p>'+t.str_title+"</p>\n                            </a>",a.slides=n}),$("#action-list>.swiper-wrapper").html(n)}else $("#action-list>.swiper-wrapper").html("<h3>这里还什么都没有</h3>")}else alert(t.message)})},companyList:function(){var i=this;i.getAjax("/companyList",{},function(t){if(console.log(t),200==t.status){var e=t.data;if(0<e.length){var a="";e.forEach(function(t,e){var n=i.site+t.logo;e<9&&(a+='\n                            <li>\n                                <a href="'+t.link_url+'" class="swiper-slide" target="_blank">\n                                    <img src="'+n+'" alt="'+t.link_url+'">\n                                </a>\n                            </li>\n                            ')}),$("#company>ul").html(a)}else $("#company>ul").html("<h3>这里还什么都没有</h3>")}else alert(t.message)})},getAjax:function(t,e,n,a){$.ajax({type:"GET",url:this.site+t,data:e,dataType:"JSON",success:n,fail:a})},postAjax:function(t,e,n,a){$.ajax({type:"POST",url:this.site+t,data:e,dataType:"json",success:n,fail:a})},setSeo:function(){this.getAjax("/seo",{},function(t){console.log(t),200==t.status?($("title").text(t.data.title),$("meta[name='keywords']").attr("content",t.data.keywords),$("meta[name='description']").attr("content",t.data.description)):alert(t.message)})},showNav:function(){$(".common-header ol").toggle(),$("body").toggleClass("header-active")},init:function(){console.log("111");var t=this;t.fontSize(),t.setSeo(),$(".common-header ul").on("click",function(){t.showNav()}),t.getBannerInfos(),t.welfareDatas(),t.newsList8(),t.newsList9(),t.companyList(),setTimeout(function(){t.setSwiper()},1e3)}}).init()});
//# sourceMappingURL=index.js.map
