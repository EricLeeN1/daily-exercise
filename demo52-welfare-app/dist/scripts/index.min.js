"use strict";$(function(){jQuery.support.cors=!0;var t,e;window.Base;({site:"https://www.doubaner.top",language:(navigator.browserLanguage||navigator.language).toLowerCase(),versions:(t=navigator.userAgent,e=t.toLowerCase(),navigator.appVersion,{wechat:"micromessenger"==e.match(/MicroMessenger/i),qq:"qq"==e.match(/QQ/i),weibo:"weibo"==e.match(/WeiBo/i),trident:-1<t.indexOf("Trident"),presto:-1<t.indexOf("Presto"),webKit:-1<t.indexOf("AppleWebKit"),gecko:-1<t.indexOf("Gecko")&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<t.indexOf("Android")||-1<t.indexOf("Linux"),iPhone:-1<t.indexOf("iPhone"),iPad:-1<t.indexOf("iPad"),webApp:-1==t.indexOf("Safari")}),fontSize:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,e=t.document,a=e.documentElement,n="orientationchange"in t?"orientationchange":"resize",i=function(){var t=a.clientWidth||375;750<t&&(t=750),a.style.fontSize=t/7.5+"px"};window.getComputedStyle(a,null).getPropertyValue("font-size")<="20px"&&i(),e.addEventListener&&(t.addEventListener(n,i,!1),e.addEventListener("DOMContentLoaded",i,!1))},getBannerInfos:function(){this.getAjax("/intro",{},function(t){console.log(t),200==t.status?$(".banner>.activity-des>p").text(t.data):alert(t.message)})},welfareDatas:function(){this.getAjax("/data",{},function(t){console.log(t),200==t.status?($("#donate ul li:eq(0) a").children("h3").text(t.data.aims).countUp(),$("#donate ul li:eq(1) a").children("h3").text(t.data.num).countUp(),$("#donate ul li:eq(2) a").children("h3").text(t.data.total).countUp(),$("#donate ul li:eq(3) a").children("h3").text(t.data.sumofcinemas).countUp()):alert(t.message)})},newsList8:function(){var n=this;this.getAjax("/newsList/column/8",{column:8},function(t){if(200==t.status){var e=t.data.StrategyList;if(0<e.length){var a="";e.forEach(function(t){var e=n.site+t.str_thumb;a+='\n                            <a href="./news.html?id='+t.str_id+'" class="swiper-slide" data-id="'+t.str_id+'">\n                                <img src="'+e+'" alt="'+t.str_title+'">\n                                <h3>'+t.str_title+"</h3>\n                            </a>\n                            "}),$("#action>.swiper-wrapper").html(a)}else $("#action>.swiper-wrapper").html("<h3>这里还什么都没有</h3>")}else alert(t.message)})},newsList9:function(){var i=this;i.getAjax("/newsList/column/9",{column:9},function(t){if(200==t.status){var e=t.data.StrategyList;if(0<e.length){var n="";e.forEach(function(t,e){var a=i.site+t.str_thumb;n+='<a href="./news.html?id='+t.str_id+'" class="swiper-slide" data-id="'+t.str_id+'">\n                           <img src="'+a+'" alt="'+t.str_title+'">\n                           <h3>'+t.str_title+"</h3>\n                           </a>"}),$("#donate-star>.swiper-wrapper").html(n)}else $("#donate-star>.swiper-wrapper").html("<h3>这里还什么都没有</h3>")}else alert(t.message)})},companyList:function(){var i=this;i.getAjax("/companyList",{},function(t){if(console.log(t),200==t.status){var e=t.data;if(0<e.length){var n="";e.forEach(function(t,e){var a=i.site+t.logo;e<9&&(n+='\n                            <li>\n                                <a href="'+t.link_url+'" class="swiper-slide" target="_blank">\n                                    <img src="'+a+'" alt="'+t.link_url+'">\n                                </a>\n                            </li>\n                            ')}),$("#company>ul").html(n)}else $("#company>ul").html("<h3>这里还什么都没有</h3>")}else alert(t.message)})},getAjax:function(t,e,a,n){$.ajax({type:"GET",url:this.site+t,data:e,dataType:"JSON",success:a,fail:n})},postAjax:function(t,e,a,n){$.ajax({type:"POST",url:this.site+t,data:e,dataType:"json",success:a,fail:n})},setSeo:function(){this.getAjax("/seo",{},function(t){console.log(t),200==t.status?($("title").text(t.data.title),$("meta[name='keywords']").attr("content",t.data.keywords),$("meta[name='description']").attr("content",t.data.description)):alert(t.message)})},init:function(){console.log("111");var t=this;t.fontSize(),t.setSeo(),t.getBannerInfos(),t.welfareDatas(),t.newsList8(),t.newsList9(),t.companyList()}}).init()});
//# sourceMappingURL=index.js.map
