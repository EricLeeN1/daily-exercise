{"version":3,"sources":["slot.js"],"names":["$","fullPeople","signinfo","empty","html","i","j","append","this","addClass","change","rest","val","remove","showWidth","width","height","liWidth","children","showHeight","css","liHeight","paddingLeft","paddingTop","on","award","awardinfo","getIndex","index","sy","length","eq","attr","off","prev","removeClass","slotMachine","active","delay","randomize","activeElementIndex","machine1","direction","machine2","machine3","machine4","machine5","machine6","machine7","machine8","machine9","machine10","text","removeAttr","img","src","title","liItems","span","setTimeout","shuffle","find"],"mappings":"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","file":"slot.js","sourcesContent":["$(function () {\r\n    //构建老虎机\r\n    // var a ={\r\n    //    active:设置第几个元素，\r\n    //    delay：设置旋转动画时间，\r\n    //    auto:传递一个毫秒作为参数，设置机器自动旋转。默认false,\r\n    //    spins:如果机器自动旋转，设置旋转数\r\n    //    stopHidden:如果元素在屏幕上方或下方请停止动画。默认true,\r\n    //    randomize:传递函数以选择您自己的随机元素。此函数必须返回0（第一个元素）和最大元素数之间的整数。\r\n    //    direction:方向up /down\r\n    //}\r\n    //动态改变人数；\r\n\r\n    let signinfo, fullPeople;\r\n    fullPeople = null;\r\n    signinfo = null;\r\n    //获得奖项信息，然后设置奖项数\r\n    //一开始把人加上去；\r\n    $(\"#user-icon\").empty();\r\n    var html = '';\r\n    for (var i = 1; i <= 45; i++) {\r\n        html += `<div><img src=\"images/user/head_${i}.png\" alt=\"\" title=''  data-id='${i}'></div>`;\r\n    }\r\n    fullPeople = html;\r\n    // console.log(fullPeople);\r\n    for (var j = 0; j < 10; j++) {\r\n        $(\"#user-icon\").append($(\"<li class='randomizeMachine'></li>\").html(fullPeople));\r\n    }\r\n    //签到信息\r\n    $(\"#select-number\").change(function () {\r\n        //不管得没得奖每次都重新加载一遍\r\n        $(this).addClass(\"changed\");\r\n        $(\"#winner-info\").empty();\r\n        //清空中奖信息\r\n        var rest = $(this).val();\r\n        var html = '';\r\n        $(\"#user-icon li\").remove();\r\n        // console.log(fullPeople);\r\n        for (var i = 1; i <= rest; i++) {\r\n            $(\"#user-icon\").append($(\"<li class='randomizeMachine'></li>\").html(fullPeople));\r\n        }\r\n        var showWidth = $(\"#winner-show\").width();\r\n        var showHeight = $(\"#winner-show\").height();\r\n        var liWidth = $(\"#user-icon\").children(\"li\").width() - 0 + 2;\r\n        var liHeight = $(\"#user-icon\").children(\"li\").height() - 0 + 6;\r\n        if (rest <= 5) {\r\n            $(\"#user-icon\").css({\r\n                \"paddingLeft\": (showWidth - liWidth * rest) / 2,\r\n                \"paddingTop\": (showHeight - liHeight) / 2\r\n            });\r\n        } else {\r\n            $(\"#user-icon\").css({\r\n                \"paddingLeft\": 0,\r\n                \"paddingTop\": 0\r\n            });\r\n        }\r\n    });\r\n    $(\"#ranomizeButton\").on('click', function () {\r\n        award();\r\n    });\r\n\r\n    function award() {\r\n        var rest = $(\"#select-number\").val();\r\n        var awardinfo = null;\r\n        $(\"#user-icon li\").remove();\r\n        for (var i = 1; i <= rest; i++) {\r\n            $(\"#user-icon\").append($(\"<li class='randomizeMachine'></li>\").html(fullPeople));\r\n        }\r\n        $(this).off('click');\r\n        $(\"#select-number\").attr(\"disabled\", true);\r\n        $(\"#ranomizeButton\").prev().removeClass(\"begin-tool\").addClass(\"begin-to-play\");\r\n\r\n        function getIndex(index) {\r\n            var sy = -1;\r\n            if (index < 45) {\r\n                for (var j = 1; j <= $(\"#user-icon li:eq(\" + index + \")>div>div\").length; j++) { //通过id匹配获奖信息第index个人的uid是否和数组第j个一样\r\n                    // console.log($(\"#user-icon li:eq(\" + index + \")>div>div\").length);\r\n                    // console.log(j);\r\n                    if (index == $(\"#user-icon li:eq(\" + index + \")>div>div\").eq(j).children(\"img\").attr(\"data-id\")) {\r\n                        // console.log($(\"#user-icon li:eq(\" + index + \")>div>div\").eq(j).children(\"img\").attr(\"data-id\"));\r\n                        // console.log(index);\r\n                        sy = index;\r\n                        return sy;\r\n                    }\r\n                }\r\n            } else if (sy == -1) {\r\n                //设置默认\r\n                $(\"#user-icon li:eq(\" + index + \")>div>div\").empty().html(\"<img src='img/main/userFavicon/head_19.png' alt='' title='默认头像'/>\");\r\n            }\r\n        }\r\n\r\n        var machine1 = $('#user-icon li:eq(0)').slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(0);\r\n            }\r\n        });\r\n        var machine2 = $(\"#user-icon li:eq(1)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(1);\r\n            }\r\n        });\r\n        var machine3 = $(\"#user-icon li:eq(2)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(2);\r\n            }\r\n        });\r\n        var machine4 = $(\"#user-icon li:eq(3)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(3);\r\n            }\r\n        });\r\n        var machine5 = $(\"#user-icon li:eq(4)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(4);\r\n            }\r\n        });\r\n        var machine6 = $(\"#user-icon li:eq(5)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(5);\r\n            }\r\n        });\r\n        var machine7 = $(\"#user-icon li:eq(6)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(6);\r\n            }\r\n        });\r\n        var machine8 = $(\"#user-icon li:eq(7)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(7);\r\n            }\r\n        });\r\n        var machine9 = $(\"#user-icon li:eq(8)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(8);\r\n            }\r\n        });\r\n        var machine10 = $(\"#user-icon li:eq(9)\").slotMachine({\r\n            active: 0,\r\n            delay: 300,\r\n            direction: 'down',\r\n            randomize: function (activeElementIndex) {\r\n                return getIndex(9);\r\n            }\r\n        });\r\n        machine1.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 5, function () {\r\n            $(\"#winner-info\").prev().text(\"中奖名单\");\r\n            // console.log(\"第1个结束\");\r\n            $(\"#ranomizeButton\").prev().removeClass(\"begin-to-play\").addClass(\"begin-tool\");\r\n            $(\"#select-number\").removeAttr(\"disabled\");\r\n            $(\"#winner-info\").prev().text($(\"#select-prize\").val() + '等奖');\r\n            for (var i = 1; i <= $(\"#select-number\").val(); i++) {\r\n                var img = $(\"<img>\").attr({\r\n                    \"src\": `./images/user/head_${i}.png`,\r\n                    \"title\": `中奖用户${i}`\r\n                });\r\n                var span = $('<span></span>').text(`中奖用户${i}`);\r\n                var liItems = $(\"<li></li>\").append(img, span);\r\n                $(\"#winner-info\").append(liItems);\r\n            }\r\n        });\r\n        setTimeout(function () {\r\n            machine2.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 5);\r\n            // console.log(\"第2个结束\");\r\n        }, 300);\r\n        setTimeout(function () {\r\n            machine3.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 5);\r\n            // console.log(\"第3个结束\");\r\n        }, 600);\r\n        setTimeout(function () {\r\n            machine4.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 4);\r\n            // console.log(\"第4个结束\");\r\n        }, 900);\r\n        setTimeout(function () {\r\n            machine5.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 4, function () {});\r\n            // console.log(\"第5个结束\");\r\n        }, 1200);\r\n        setTimeout(function () {\r\n            machine6.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 3, function () {});\r\n            // console.log(\"第6个结束\");\r\n        }, 1500);\r\n        setTimeout(function () {\r\n            machine7.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 3, function () {});\r\n            // console.log(\"第7个结束\");\r\n        }, 1800);\r\n        setTimeout(function () {\r\n            machine8.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 2, function () {});\r\n            // console.log(\"第8个结束\");\r\n        }, 2100);\r\n        setTimeout(function () {\r\n            machine9.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 2, function () {});\r\n            // console.log(\"第9个结束\");\r\n        }, 2400);\r\n        setTimeout(function () {\r\n            machine10.shuffle(($(\"#select-number\").find(\"option:selected\").text() - 0) * 1, function () {\r\n                // console.log(\"第10个结束\");\r\n            });\r\n        }, 2700);\r\n    }\r\n});"]}