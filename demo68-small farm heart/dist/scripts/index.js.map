{"version":3,"sources":["index.js"],"names":["$","jQuery","support","cors","Base","window","site","site2","default","shareData","subTitle","handShake","id","type","replyHtml","this","that","getQueryString","pid","console","ptype","location","href","ajax","url","data","Date","parse","ts","success","datas","dataType","msgcode","key","Latin1","enc","CryptoJS","iv","AES","Utf8","padding","Pkcs7","toString","secret","pad","setItem","sessionStorage","getDetail","setTimeout","log","show","getDetail1","alert","getInitData","name","reg","RegExp","match","r","search","context","objKeySort","newkey","Object","keys","arys","sort","i","newObj","getAjax","fn","JSON","getItem","dataCookies","keyData","signData","param","_md5","postAjax","query","res","attr","Info","musicpath","removeClass","addClass","scene","css","skin","play","ulogo","logo","html","ptime","facenumber","uname","next","smile","lefteye","age","mouth","righteye","emotion","gender","score","comment","facecomment","browser","versions","mobile","documentElement","clientWidth","getImgInfos","screenWith","width","scale","length","msg","setFaceBorder","imgInfo","height","facerectangle","top","left","reduce","getTime","img_url","img","set","setInterval","check","clearInterval","onload","status","poll","getList","list","hide","rhtml","forEach","ele","index","array","rlist","rele","fuid","fulogo","funame","tuid","tuname","fcontent","uid","content","getList1","isClient","acc","share","indexOf","params","title","accStr","replace","response","ua","navigator","userAgent","toLowerCase","confirm","ios","android","downloadApp","submitForm","_this","val","text","fadeOut","reviewid","reviewuserid","fadeIn","remove","isLogin","submitOnTop","loginStatu","setReplyForm","parents","parent","after","isvote","openGiftsModal","pignunber","num","giftFresh","Math","random","numFinally","parseInt","inputGiftNumber","trim","inputVal","focusRemark","sendGiftsForHim","remark","reduceNum","closeGiftModal","init"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n    // var mySwiper = new Swiper('.swiper-container', {\r\n    //     //            direction:\"vertical\",\r\n    //     direction: \"horizontal\",\r\n    //     initialSlide: 0,\r\n    //     speed: 2000,\r\n    //     autoplay: true,\r\n    //     loop: true,\r\n    //     //            分页器\r\n    //     pagination: {\r\n    //         el: \".swiper-pagination\"\r\n    //     },\r\n    //     //            前进后退按钮\r\n    //     navigation: {\r\n    //         nextEl: \".swiper-button-next\",\r\n    //         prevEl: \".swiper-button-prev\",\r\n    //     },\r\n    //     //            如果需要滚动条\r\n    //     scrollbar: {\r\n    //         el: \".swiper-scrollbar\"\r\n    //     }\r\n    // });\r\n    // $(\"#index-nav2 .index-nav2-tabbar li\").on('click',function(){\r\n    //     $(this).addClass('active').siblings().removeClass('active');\r\n    //     let index = $(this).index();\r\n    //     console.log('====================================');\r\n    //     console.log(index);\r\n    //     console.log('====================================');\r\n    //     $(\".index-nav2-panel >li\").eq(index).show().siblings().hide();\r\n    // });\r\n    jQuery.support.cors = true;\r\n    var Base = window.Base || {};\r\n    Base = {\r\n        site: 'http://47.92.146.91:8089',\r\n        site2: 'http://60.205.111.27:807',\r\n        default: '',\r\n        shareData: {\r\n            title: '孤独招领处',\r\n            subTitle: '来孤独招领处--释放你内心里那些无法对人言语的东西吧！'\r\n        },\r\n        replyHtml: '<div class=\"reply-area\"><textarea maxlength=\"140\" name=\"reply-content\" id=\"reply-content\"></textarea><div id=\"btn-reply\">回复</div></div>',\r\n        handShake: function handShake(id, type) {\r\n            var that = this,\r\n                pid = that.getQueryString(id),\r\n                ptype = that.getQueryString(type);\r\n            that.id = pid;\r\n            console.log(pid, ptype);\r\n            that.type = ptype;\r\n            if (pid == '' || ptype == '') {\r\n                window.location.href = '404.html';\r\n            } else {\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: Base.site + '/WebService.asmx/AcquireSecretKey',\r\n                    data: {\r\n                        type: 3,\r\n                        ts: Date.parse(new Date()) / 1000\r\n                    },\r\n                    dataType: \"json\",\r\n                    success: function success(datas) {\r\n                        if (datas.msgcode == 1) {\r\n                            var key = CryptoJS.enc.Latin1.parse('l@j#g=c!w*)8(^5$');\r\n                            var iv = CryptoJS.enc.Latin1.parse('L+*df5,Ir)b$=pkf');\r\n                            datas.data.key = CryptoJS.AES.decrypt(datas.data.key, key, {\r\n                                iv: iv,\r\n                                padding: CryptoJS.pad.Pkcs7\r\n                            }).toString(CryptoJS.enc.Utf8);\r\n                            datas.data.secret = CryptoJS.AES.decrypt(datas.data.secret, key, {\r\n                                iv: iv,\r\n                                padding: CryptoJS.pad.Pkcs7\r\n                            }).toString(CryptoJS.enc.Utf8);\r\n                            sessionStorage.setItem(\"handShake\", JSON.stringify(datas));\r\n                            if (pid && ptype) {\r\n                                if (ptype == 1) {\r\n                                    that.getDetail(id);\r\n                                    setTimeout(function () {\r\n                                        that.getList(id);\r\n                                    }, 1000);\r\n                                } else {\r\n                                    console.log('11111');\r\n                                    $('#vote-gifts-btn-group').show();\r\n                                    that.getDetail1(id);\r\n                                    setTimeout(function () {\r\n                                        that.getList1(id);\r\n                                    }, 1000);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            alert('服务器连接错误');\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        getInitData: function getInitData(id, type) {\r\n            var that = this,\r\n                pid = that.getQueryString(id),\r\n                ptype = that.getQueryString(type);\r\n            that.id = pid;\r\n            that.type = ptype;\r\n            console.log(pid, ptype);\r\n            if (pid && ptype) {\r\n                if (ptype == 1) {\r\n                    that.getDetail(id);\r\n                    setTimeout(function () {\r\n                        that.getList(id);\r\n                    }, 1000);\r\n                } else {\r\n                    $('#vote-gifts-btn-group').show();\r\n                    that.getDetail1(id);\r\n                    setTimeout(function () {\r\n                        that.getList1(id);\r\n                    }, 1000);\r\n                }\r\n            } else {\r\n                window.location.href = '404.html';\r\n            }\r\n        },\r\n        getQueryString: function getQueryString(name) {\r\n            var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n            var r = window.location.search.substr(1).match(reg); //获取url中\"?\"符后的字符串并正则匹配\r\n            var context = \"\";\r\n            if (r != null) context = r[2];\r\n            reg = null;\r\n            r = null;\r\n            return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n        },\r\n        objKeySort: function objKeySort(arys) {\r\n            var newkey = Object.keys(arys).sort();\r\n            var newObj = {};\r\n            for (var i = 0; i < newkey.length; i++) {\r\n                newObj[newkey[i]] = arys[newkey[i]];\r\n            }\r\n            return newObj; //返回排好序的新对象\r\n        },\r\n        getAjax: function getAjax(url, datas, fn) {\r\n            var dataCookies = JSON.parse(sessionStorage.getItem(\"handShake\"));\r\n            var keyData = {};\r\n            for (var i in datas) {\r\n                keyData[i] = datas[i];\r\n            }\r\n            keyData['ts'] = Date.parse(new Date()) / 1000 - 0 + JSON.parse(sessionStorage.getItem(\"handShake\")).data.ts;\r\n            keyData['key'] = JSON.parse(sessionStorage.getItem(\"handShake\")).data.key;\r\n            var signData = {};\r\n            for (var i in keyData) {\r\n                signData[i] = keyData[i];\r\n            }\r\n            signData['sec'] = JSON.parse(sessionStorage.getItem(\"handShake\")).data.secret;\r\n            $.ajax({\r\n                type: \"get\",\r\n                url: '' + this.site + '' + url + '' + $.param(keyData, true) + '&sign=' + _md5($.param(this.objKeySort(signData), true)) + '',\r\n                dataType: 'json',\r\n                success: fn\r\n            });\r\n        },\r\n        postAjax: function postAjax(url, datas, fn) {\r\n            $.ajax({\r\n                type: 'post',\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fn\r\n            });\r\n        },\r\n        getDetail(query) {\r\n            var that = this,\r\n                id = that.getQueryString(query);\r\n            if (id) {\r\n                that.postAjax('/api/common/good/goodInfo', {\r\n                    id: id\r\n                }, function (res) {\r\n                    console.log(res);\r\n                    if (res.msgcode == 1) {\r\n                        that.Info = res.data;\r\n                        $(\"#music\").attr('src', that.site2 + that.Info.musicpath);\r\n                        $(\"#app>header.mirror-2\").removeClass('mirror-2').addClass('mirror-' + that.Info.scene);\r\n                        $('#app>header').css('background-color', '#' + that.Info.skin);\r\n                        $(\"#music\")[0].play();\r\n                        $('#user-infos-group img:eq(0)').attr('src', that.site2 + res.data.ulogo);\r\n                        $('#shower-logo').attr('src', that.site2 + res.data.logo);\r\n                        $(\"#user-infos-group>.user-infos>h5\").html(res.data.uname).next().html(res.data.ptime);\r\n                        if (res.data.facenumber == 1) {\r\n                            $('#heart-single-group>.heart:eq(0)').html('<p>' + res.data.smile + '</p>').next().html('<p>' + res.data.lefteye + '</p>').next().html('<p>' + res.data.age + '</p>').next().html('<p>' + res.data.mouth + '</p>').next().html('<p>' + res.data.righteye + '</p>').next().html('<p>' + res.data.emotion + '</p>').next().html(res.data.gender);\r\n                            $('.stamp-front>h3').html(res.data.score);\r\n                            $('.envelope-comments').html(res.data.comment);\r\n                        } else {\r\n                            $(\"#heart-single-group>.heart-many\").html(res.data.facecomment).css(\"bottom\", \"-.2rem\");\r\n                            if (browser.versions.mobile) {\r\n                                //判断是否是移动设备打开。browser代码在下面\r\n                                var screenWith = document.documentElement.clientWidth;\r\n                                that.getImgInfos(that.site2 + res.data.logo);\r\n                                setTimeout(function () {\r\n                                    var scale = that.imgInfo.width / screenWith;\r\n                                    that.setFaceBorder(res, scale);\r\n                                }, 2000);\r\n                            } else {\r\n                                that.getImgInfos(that.site2 + res.data.logo);\r\n                                setTimeout(function () {\r\n                                    var scale = that.imgInfo.width / 750;\r\n                                    that.setFaceBorder(res, scale);\r\n                                }, 2000);\r\n                            }\r\n                        }\r\n                        $('#user .user-judge').html(res.data.comment.length > 0 ? res.data.comment : '这位少年，骨骼惊奇，将来必有大成就！');\r\n                    } else {\r\n                        alert(res.msg);\r\n                    }\r\n                });\r\n            } else {\r\n                window.location.href = '/404.html';\r\n            }\r\n        },\r\n        setFaceBorder: function setFaceBorder(res, scale) {\r\n            var that = this;\r\n            var reduce = (that.imgInfo.height - that.imgInfo.width) / scale;\r\n            res.data.facerectangle.top = res.data.facerectangle.top / scale;\r\n            res.data.facerectangle.left = res.data.facerectangle.left / scale;\r\n            res.data.facerectangle.width = res.data.facerectangle.width / scale;\r\n            res.data.facerectangle.height = res.data.facerectangle.height / scale;\r\n            $('#banner>.face-border').show().css({\r\n                \"width\": res.data.facerectangle.width,\r\n                \"height\": res.data.facerectangle.height,\r\n                \"top\": res.data.facerectangle.top,\r\n                \"left\": res.data.facerectangle.left\r\n            });\r\n        },\r\n        getImgInfos: function getImgInfos(url) {\r\n            // 记录当前时间戳\r\n            var start_time = new Date().getTime(),\r\n                that = this;\r\n\r\n            // 图片地址\r\n            var img_url = url;\r\n\r\n            // 创建对象\r\n            var img = new Image();\r\n\r\n            // 改变图片的src\r\n            img.src = img_url;\r\n\r\n            // 定时执行获取宽高\r\n            var check = function check() {\r\n                // 只要任何一方大于0\r\n                // 表示已经服务器已经返回宽高\r\n                if (img.width > 0 || img.height > 0) {\r\n                    var diff = new Date().getTime() - start_time;\r\n                    // document.body.innerHTML += '\r\n                    // from:check : width:'+img.width+', height:'+img.height+', time:'+diff+'ms';\r\n                    clearInterval(set);\r\n                }\r\n            };\r\n\r\n            var set = setInterval(check, 40);\r\n            // 加载完成获取宽高\r\n            img.onload = function () {\r\n                var data = {\r\n                    width: img.width,\r\n                    height: img.height\r\n                };\r\n                that.imgInfo = data;\r\n                // return data;\r\n            };\r\n        },\r\n        getDetail1: function getDetail1(query) {\r\n            var that = this,\r\n                id = that.getQueryString(query);\r\n            if (id) {\r\n                that.postAjax('/FrontendService.asmx/AppearanceLevelDetail?', {\r\n                    id: id\r\n                }, function (res) {\r\n                    if (res.msgcode == 1) {\r\n                        if (!res.data.musicpath || res.data.musicpath == '/music/BillboardMusic/') {\r\n                            res.data.musicpath = '/music/BillboardMusic/20180118030.mp3';\r\n                        }\r\n                        if (!res.data.scene) {\r\n                            res.data.scene = '2';\r\n                        }\r\n                        if (!res.data.skin) {\r\n                            res.data.skin = 'ff5053';\r\n                        }\r\n                        that.Info = res.data;\r\n                        $(\"#music\").attr('src', that.site2 + that.Info.musicpath);\r\n                        $(\"#app>header.mirror-2\").removeClass('mirror-2').addClass('mirror-' + that.Info.scene);\r\n                        $('#app>header').css('background-color', '#' + that.Info.skin);\r\n                        $(\"#music\")[0].play();\r\n                        $(\"header.mirror\").css('height', \"13rem\");\r\n                        console.log(res.data.status);\r\n                        if (res.data.status == 1) {\r\n                            //未开始\r\n                            $(\"#vote-gifts-btn-group>vote-gifts-btn:eq(1)\").show();\r\n                            // $(\"#vote-1\").show();\r\n                        } else if (res.data.status == 3) {\r\n                            $(\"#vote-gifts-btn-group>.vote-gifts-btn:eq(2)\").show();\r\n                        } else {\r\n                            if (res.data.isvote) {\r\n                                $(\"#vote-gifts-btn-group>.vote-gifts-btn:eq(3)\").show();\r\n                            } else {\r\n                                $(\"#vote-gifts-btn-group>.vote-gifts-btn:eq(0)\").show();\r\n                            }\r\n                        }\r\n                        $('#reply-form-main').css('top', '-.4rem');\r\n                        $('#user-infos-group img:eq(0)').attr('src', that.site2 + res.data.ulogo);\r\n                        $('#shower-logo').attr('src', that.site2 + res.data.logo);\r\n                        $(\"#user-infos-group>.user-infos>h5\").html(res.data.uname).next().html(res.data.ptime);\r\n                        $('#heart-single-group>.heart:eq(0)').html('<p>' + res.data.smile + '</p>').next().html('<p>' + res.data.lefteye + '</p>').next().html('<p>' + res.data.age + '</p>').next().html('<p>' + res.data.mouth + '</p>').next().html('<p>' + res.data.righteye + '</p>').next().html('<p>' + res.data.emotion + '</p>').next().html(res.data.gender);\r\n                        $('.stamp-front>h3').html(res.data.score + '分');\r\n                        $('.envelope-comments').html(res.data.comment);\r\n                        $('#gift-modal .gift-panel-input>input').attr('max', res.data.pignunber);\r\n                        $(\"#user>.user-infos>.user-detail>p:eq(0)\").html(res.data.uname).next().html(res.data.ptime);\r\n                        $('.heart-score').show().children('span').html(res.data.score - 0 + (res.data.poll - 0) + '分');\r\n                        $('#comments-list').css('margin-top', '-.5rem');\r\n                        $('#module-envelope').css('bottom', '1.4rem');\r\n                    } else {\r\n                        alert(res.msg);\r\n                    }\r\n                });\r\n            } else {\r\n                window.location.href = '/404.html';\r\n            }\r\n        },\r\n        getList: function getList(query) {\r\n            var that = this,\r\n                id = that.getQueryString(query);\r\n            if (id) {\r\n                that.getAjax('/FrontendService.asmx/AppearanceShowCommonList?', {\r\n                    id: id\r\n                }, function (res) {\r\n                    console.log(res);\r\n                    if (res.msgcode == 1) {\r\n                        var list = res.data.list;\r\n                        if (list.length == 0) {\r\n                            $(\"#comments-list\").hide();\r\n                            $(\"#comments-list.comments-none\").show();\r\n                        } else {\r\n                            var html = '',\r\n                                rhtml = '';\r\n                            list.forEach(function (ele, index, array) {\r\n                                if (list[index].rlist.length > 0) {\r\n                                    list[index].rlist.forEach(function (rele, index, array) {\r\n                                        rhtml += '<div class=\"rcomments-item\" data-id=' + ele.id + '>' + '<div class=\"comments-top\"  data-uid=' + rele.fuid + '>' + '<img src=\"' + that.site2 + rele.fulogo + '\" alt=\"\" class=\"avatar\">' + '<div class=\"commenter-name\">' + rele.funame + '</div>' + '<span>回复</span>' + '</div>' + '<div class=\"comment-content\" data-id=' + rele.tuid + ' >@' + rele.tuname + '&nbsp;' + rele.fcontent + '</div>' + '</div>';\r\n                                    });\r\n                                } else {\r\n                                    rhtml = '';\r\n                                }\r\n                                html += '<li class=\"comments-item\" data-id=' + ele.id + '>' + '<div class=\"comments-top\" data-uid=' + ele.uid + '>' + '<img src=\"' + that.site2 + ele.ulogo + '\" alt=\"\" class=\"avatar\">' + '<div class=\"commenter-name\">' + ele.uname + '</div>' + '<span>回复</span>' + '</div>' + '<div class=\"comment-content\">' + ele.content + '</div>' + rhtml + '</li>';\r\n                                $('#comments-list').html(html);\r\n                            });\r\n                        }\r\n                    } else {\r\n                        alert(res.msg);\r\n                    }\r\n                });\r\n            } else {\r\n                window.location.href = '/404.html';\r\n            }\r\n        },\r\n        getList1: function getList1(query) {\r\n            var that = this,\r\n                id = that.getQueryString(query);\r\n            if (id) {\r\n                that.getAjax('/FrontendService.asmx/AppearanceLevelCommonList?', {\r\n                    id: id\r\n                }, function (res) {\r\n                    if (res.msgcode == 1) {\r\n                        var list = res.data.list;\r\n                        if (list.length > 0) {\r\n                            var html = '',\r\n                                rhtml = '';\r\n                            list.forEach(function (ele, index, array) {\r\n                                if (list[index].rlist.length > 0) {\r\n                                    list[index].rlist.forEach(function (rele, index, array) {\r\n                                        rhtml += '<div class=\"rcomments-item\" data-id=' + ele.id + '>' + '<div class=\"comments-top\"  data-uid=' + rele.fuid + '>' + '<img src=\"' + that.site2 + rele.fulogo + '\" alt=\"\" class=\"avatar\">' + '<div class=\"commenter-name\">' + rele.funame + '</div>' + '<span>回复</span>' + '</div>' + '<div class=\"comment-content\" data-id=' + rele.tuid + '>@' + rele.tuname + '&nbsp;' + rele.fcontent + '</div>' + '</div>';\r\n                                    });\r\n                                } else {\r\n                                    rhtml = '';\r\n                                }\r\n                                html += '<li class=\"comments-item\" data-id=' + ele.id + '>' + '<div class=\"comments-top\" data-uid=' + ele.uid + '>' + '<img src=\"' + that.site2 + ele.ulogo + '\" alt=\"\" class=\"avatar\">' + '<div class=\"commenter-name\">' + ele.uname + '</div>' + '<span>回复</span>' + '</div>' + '<div class=\"comment-content\">' + ele.content + '</div>' + rhtml + '</li>';\r\n                                $('#comments-list').html(html);\r\n                            });\r\n                        } else {\r\n                            $(\"#comments-list\").hide();\r\n                            $(\"#comments-list.comments-none\").show();\r\n                        }\r\n                    } else {\r\n                        alert(res.msg);\r\n                    }\r\n                });\r\n            } else {\r\n                window.location.href = '/404.html';\r\n            }\r\n        },\r\n        share: function share() {\r\n            if (Base.isClient) {\r\n                var acc = Base.getQueryString('acc'),\r\n                    href = window.location.href,\r\n                    index = href.indexOf('acc');\r\n                if (href.charAt(index - 1) == '&') {\r\n                    var accStr = '&acc=' + acc;\r\n                } else if (href.charAt(index - 1) == '?') {\r\n                    var accStr = 'acc=' + acc + '&';\r\n                }\r\n                var params = {\r\n                    title: Base.shareData.title,\r\n                    subTitle: Base.shareData.subTitle,\r\n                    shareUrl: href.replace(accStr, \"\")\r\n                };\r\n                WebViewJavascriptBridge.callHandler('skipCategoryOfShare', params, function (response) {});\r\n            } else {\r\n                if (browser.versions.mobile) {\r\n                    //判断是否是移动设备打开。browser代码在下面\r\n                    var ua = navigator.userAgent.toLowerCase(); //获取判断用的对象\r\n                    if (ua.match(/MicroMessenger/i) == \"micromessenger\" || ua.match(/QQ/i) == \"qq\") {\r\n                        //在微信中打开或在QQ空间打开\r\n                        if (confirm(\"您当前使用的是qq/微信，无法参与本次活动，确认下载app？参与到孤独活动中来?\")) {\r\n                            location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                        }\r\n                    } else if (browser.versions.ios || browser.versions.android) {\r\n                        if (confirm(\"您当前使用的是浏览器，无法参与本次活动，确认下载app？参与到孤独活动中来?\")) {\r\n                            location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                        }\r\n                    }\r\n                    if (ua.match(/WeiBo/i) == \"weibo\") {\r\n                        if (confirm(\"您当前使用的是新浪，无法参与本次活动，确认下载app？参与到孤独活动中来?\")) {\r\n                            location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        downloadApp: function downloadApp() {\r\n            if (browser.versions.mobile) {\r\n                //判断是否是移动设备打开。browser代码在下面\r\n                var ua = navigator.userAgent.toLowerCase(); //获取判断用的对象\r\n                if (ua.match(/MicroMessenger/i) == \"micromessenger\" || ua.match(/QQ/i) == \"qq\") {\r\n                    //在微信中打开或在QQ空间打开\r\n                    if (confirm(\"您当前使用的是qq/微信，无法参与本次活动，确认下载app？参与到魔镜活动中来?\")) {\r\n                        location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                    }\r\n                } else if (browser.versions.ios || browser.versions.android) {\r\n                    if (confirm(\"您当前使用的是浏览器，无法参与本次活动，确认下载app？参与到魔镜活动中来?\")) {\r\n                        location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                    }\r\n                }\r\n                if (ua.match(/WeiBo/i) == \"weibo\") {\r\n                    if (confirm(\"您当前使用的是新浪，无法参与本次活动，确认下载app？参与到魔镜活动中来?\")) {\r\n                        location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                    }\r\n                }\r\n            } else {\r\n                if (confirm(\"您当前使用的是PC端页面，无法参与本次活动，确认下载app？参与到魔镜活动中来?\")) {\r\n                    location.href = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.ruanmeng.gexiazi';\r\n                }\r\n            }\r\n        },\r\n        submitForm: function submitForm(ele, _this) {\r\n            var content = ele.val(),\r\n                that = this,\r\n                url = '';\r\n            _this.parent().remove();\r\n            if (!content) {\r\n                $('#form-tips').text('不能什么都不说啊!').fadeIn();\r\n                setTimeout(function () {\r\n                    ele.val('');\r\n                    $('#form-tips').text('').fadeOut();\r\n                }, 1000);\r\n            } else if (content.length < 5) {\r\n                $('#form-tips').text('不能低于五个字呦!').fadeIn();\r\n                setTimeout(function () {\r\n                    ele.val('');\r\n                    $('#form-tips').text('').fadeOut();\r\n                }, 1000);\r\n            } else {\r\n                if (that.type == 1) {\r\n                    url = '/ClientService.asmx/UserReviewAppearanceShow';\r\n                } else {\r\n                    url = '/ClientService.asmx/UserReviewAppearanceLevel';\r\n                }\r\n                that.postAjax(url, {\r\n                    id: that.getQueryString('id'),\r\n                    reviewid: that.reviewid,\r\n                    reviewuserid: that.reviewuserid,\r\n                    content: content\r\n                }, function (res) {\r\n                    if (res.msgcode == 1) {\r\n                        $('#form-tips').text(res.msg).fadeIn();\r\n                        $('.comments-list').html('');\r\n                        if (that.type == 1) {\r\n                            that.getList('id');\r\n                        } else {\r\n                            that.getList1('id');\r\n                        }\r\n                    } else {\r\n                        $('#form-tips').text(res.msg).fadeIn();\r\n                    }\r\n                    setTimeout(function () {\r\n                        ele.val('');\r\n                        $('#form-tips').text('').fadeOut();\r\n                    }, 1000);\r\n                });\r\n            }\r\n        },\r\n        isLogin: function isLogin() {\r\n            var that = this;\r\n            if (sessionStorage.getItem('login')) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n        submitOnTop: function submitOnTop() {\r\n            var that = this,\r\n                loginStatu = that.isLogin(),\r\n                content = $('#comments').val();\r\n            if (content.length) {\r\n                if (loginStatu) {\r\n                    if (that.type == 1) {\r\n                        // 秀场评论\r\n                        var url = '/ClientService.asmx/UserReviewAppearanceShow';\r\n                    } else {\r\n                        var url = '/ClientService.asmx/UserReviewAppearanceLevel';\r\n                    }\r\n                    that.postAjax(url, {\r\n                        id: that.id,\r\n                        reviewid: 0,\r\n                        reviewuserid: 0,\r\n                        content: content\r\n                    }, function (res) {\r\n                        if (res.msgcode == 1) {\r\n                            $('#form-tips').text(res.msg).fadeIn();\r\n                            $('#comments').val('');\r\n                            $('.comments-list').html('');\r\n                            if (that.type == 1) {\r\n                                that.getList('id');\r\n                            } else {\r\n                                that.getList1('id');\r\n                            }\r\n                        } else {\r\n                            $('#form-tips').text(res.msg).fadeIn();\r\n                        }\r\n                    });\r\n                } else {\r\n                    window.sessionStorage.setItem('url', window.location);\r\n                    window.location.href = 'logReg.html?' + window.location;\r\n                }\r\n            } else {\r\n                $('#form-tips').text('您还什么都没有写呢').fadeIn();\r\n            }\r\n            setTimeout(function () {\r\n                $('#form-tips').fadeOut(1000);\r\n            }, 1000);\r\n        },\r\n        setReplyForm: function setReplyForm(_this) {\r\n            var that = this,\r\n                loginStatu = that.isLogin();\r\n            if (!loginStatu) {\r\n                window.sessionStorage.setItem('url', window.location);\r\n                window.location.href = 'logReg.html?' + window.location;\r\n            } else {\r\n                $(\".reply-area\").each(function () {\r\n                    _this.remove();\r\n                });\r\n                Base.reviewid = _this.parents('.comments-item').attr('data-id');\r\n                Base.reviewuserid = _this.parent().attr('data-uid');\r\n                var html = Base.replyHtml;\r\n                _this.parent().next().after(html);\r\n            }\r\n        },\r\n        voteForHim: function voteForHim(_this) {\r\n            var that = this,\r\n                loginStatu = that.isLogin();\r\n            if (!loginStatu) {\r\n                window.sessionStorage.setItem('url', window.location);\r\n                window.location.href = 'logReg.html?' + window.location;\r\n            } else {\r\n                that.postAjax('/ClientService.asmx/HelpHimOnTheList', {\r\n                    id: that.id\r\n                }, function (res) {\r\n                    if (res.msgcode == 1) {\r\n                        $('#form-tips').text(res.msg).fadeIn();\r\n                        ele.hide().next().next().next().show();\r\n                        that.Info.isvote == 1;\r\n                        $('.comments-list').html('');\r\n                        if (that.type == 1) {\r\n                            console.log(that.type == 1);\r\n                            that.getList('id');\r\n                        } else {\r\n                            that.getList1('id');\r\n                        }\r\n                    } else {\r\n                        $('#form-tips').text(res.msg).fadeIn();\r\n                    }\r\n                });\r\n                setTimeout(function () {\r\n                    $('#form-tips').fadeOut(1000);\r\n                }, 1000);\r\n            }\r\n        },\r\n        openGiftsModal: function openGiftsModal() {\r\n            var that = this,\r\n                loginStatu = that.isLogin(),\r\n                num = that.Info.pignunber;\r\n            if (!loginStatu) {\r\n                window.sessionStorage.setItem('url', window.location);\r\n                window.location.href = 'logReg.html?' + window.location;\r\n            } else {\r\n                if (num) {\r\n                    that.giftFresh();\r\n                    $('#gift-modal').fadeIn();\r\n                } else {\r\n                    $('#no-gift-modal').fadeIn();\r\n                }\r\n            }\r\n        },\r\n        giftFresh: function giftFresh() {\r\n            var that = this,\r\n                num = that.Info.pignunber,\r\n                numFinally = parseInt(Math.random() * num) + 1,\r\n                length = numFinally.toString().length;\r\n            console.log(numFinally);\r\n            if (numFinally == 0) {\r\n                that.giftFresh();\r\n            } else {\r\n                that.Info.reduceNum = numFinally;\r\n                $('#gift-number').val(numFinally).css({\r\n                    'width': length * .5 + 'rem'\r\n                });\r\n            }\r\n        },\r\n        inputGiftNumber: function inputGiftNumber(ele) {\r\n            var that = this,\r\n                num = that.Info.pignunber,\r\n                inputVal = $.trim(ele.val()),\r\n                length = inputVal.toString().length;\r\n            that.Info.reduceNum = inputVal;\r\n            if (inputVal <= 0) {\r\n                ele.val(1);\r\n            } else {\r\n                $('#gift-modal .gift-panel-input').css({\r\n                    'width': length * .5 + 'rem'\r\n                });\r\n            }\r\n        },\r\n        focusRemark: function focusRemark(ele) {\r\n            ele.hide();\r\n            ele.next().show();\r\n        },\r\n        sendGiftsForHim: function sendGiftsForHim() {\r\n            var that = this,\r\n                loginStatu = that.isLogin();\r\n            if (!loginStatu) {\r\n                window.sessionStorage.setItem('url', window.location);\r\n                window.location.href = 'logReg.html?' + window.location;\r\n            } else {\r\n                if (that.Info.reduceNum > that.Info.pignunber) {\r\n                    $('#form-tips').text('您只有' + that.Info.pignunber + '个金猪').fadeIn();\r\n                    setTimeout(function () {\r\n                        $('#form-tips').fadeOut();\r\n                    }, 1000);\r\n                } else if (that.Info.pignunber == 0) {\r\n                    $('#no-gift-modal').fadeIn();\r\n                } else {\r\n                    var remark = $('#gift-panel-message').val();\r\n                    that.postAjax('/ClientService.asmx/UserGiveGoldenPig', {\r\n                        id: that.id,\r\n                        pn: that.Info.reduceNum,\r\n                        remark: remark || ''\r\n                    }, function (res) {\r\n                        if (res.msgcode == 1) {\r\n                            $('#form-tips').text(res.msg).fadeIn();\r\n                            $('.comments-list').html('');\r\n                            that.Info.pignunber = that.Info.pignunber - that.Info.reduceNum;\r\n                        } else {\r\n                            $('#form-tips').text(res.msg).fadeIn();\r\n                        }\r\n                    });\r\n                    setTimeout(function () {\r\n                        $('#form-tips').fadeOut();\r\n                        that.closeGiftModal();\r\n                    }, 1000);\r\n                }\r\n            }\r\n        },\r\n        closeGiftModal: function closeGiftModal() {\r\n            var that = this,\r\n                num = that.Info.pignunber;\r\n            if (num) {\r\n                $('#gift-modal').fadeOut();\r\n                $('#gift-modal .gift-panel-message label').show();\r\n                $('#gift-modal .gift-panel-message label').next().hide();\r\n            } else {\r\n                $('#no-gift-modal').fadeOut();\r\n            }\r\n        },\r\n        init: function init() {\r\n            let that = this;\r\n            that.getDetail('id');\r\n            // $('#share-btn').on('click', function () {\r\n            //     that.downloadApp();\r\n            // });\r\n            // $('#btn-comments').on('click', function () {\r\n            //     that.submitOnTop();\r\n            // });\r\n            // $('#comments-list').on('click', '.comments-top>span,img.smile', function () {\r\n            //     var _this = $(this);\r\n            //     that.setReplyForm(_this);\r\n            // });\r\n            // $(\"#comments-list\").on('click', 'div#btn-reply', function () {\r\n            //     var _this = $(this);\r\n            //     Base.submitForm($('div#btn-reply').prev(), _this);\r\n            // });\r\n            // $('#vote').on('click', function () {\r\n            //     var _this = $(this);\r\n            //     that.voteForHim(_this);\r\n            // });\r\n            // $('#gifts').on('click', function () {\r\n            //     that.openGiftsModal();\r\n            // });\r\n            // $('#gift-modal>.gift-bg,#gift-modal .gift-panel-close,#no-gift-modal .close-modal,#no-gift-modal>.no-gift-bg').on('click', function () {\r\n            //     that.closeGiftModal();\r\n            // });\r\n            // $(\"#gift-modal .gift-panel-fresh\").on('click', function () {\r\n            //     that.giftFresh();\r\n            // });\r\n            // $('#gift-panel-give').on('click', function () {\r\n            //     that.sendGiftsForHim();\r\n            // });\r\n            // $('#gift-number').on('keyup', function () {\r\n            //     var _this = $(this);\r\n            //     that.inputGiftNumber(_this);\r\n            // });\r\n            // $('#focus-label').on('click', function () {\r\n            //     var _this = $(this);\r\n            //     that.focusRemark(_this);\r\n            // });\r\n        }\r\n    };\r\n    Base.init();\r\n})\r\n\r\n// let app = new Vue({\r\n//     el: '#app',\r\n//     data() {\r\n//         return {\r\n//             icon: {\r\n//                 add: \"./images/+@2x.png\",\r\n//                 reduce: \"./images/-@2x.png\",\r\n//             },\r\n//             goods: {\r\n//                 number: 1\r\n//             },\r\n//             site: \"http://47.92.146.91:8089\"\r\n//         }\r\n//     },\r\n//     methods: {\r\n//         getDatas(id) {\r\n//             $.ajax({\r\n//                 type: \"POST\", //提交方式 \r\n//                 url: this.site + 'api/common/good/goodInfo', //路径 \r\n//                 data: {\r\n//                     \"id\": id\r\n//                 }, //数据，这里使用的是Json格式进行传输 \r\n//                 success: function (res) { //返回数据根据结果进行相应的处理 \r\n//                     console.log(res);\r\n//                     // if (result.success) {\r\n//                     //     $(\"#tipMsg\").text(\"删除数据成功\");\r\n//                     //     tree.deleteItem(\"${org.id}\", true);\r\n//                     // } else {\r\n//                     //     $(\"#tipMsg\").text(\"删除数据失败\");\r\n//                     // }\r\n//                 }\r\n//             });\r\n//         }\r\n//     },\r\n//     mounted() {\r\n//         this.getDatas();\r\n//     },\r\n// })"]}