{"version":3,"sources":["donate.js"],"names":["$","jQuery","support","cors","window","Base","site","e","payValue","this","params","val","invoicing","sex","username","phone","email","that","way","total_fee","invoice","res","address","changePayValue","ele","attr","value","getQueryString","name","reg","RegExp","r","location","search","substr","match","context","imgLoad","image","Image","onload","log","console","onerror","src","getAjax","url","datas","fns","fnf","ajax","type","data","dataType","success","postAjax","init","on","_this"],"mappings":"aAAAA,EAAE,WACEC,OAAOC,QAAQC,MAAO,EADZC,OAAAC,MACHH,CACHG,KAAAA,2BACJA,SAAO,IACHC,SAHGJ,SAGGK,GACNC,IAAAA,EAFGC,KAAAC,EAAA,GAICV,EAAA,+BAAAW,MAEAD,EAAIE,SAAcZ,EAAA,SAAAW,MAGlBD,EAAOG,IAAMb,EAAE,mCAAmCW,MADlDD,EAAOI,MAAPd,EAAA,UAAkBW,MAClBD,EAAOG,MAAQb,EAAA,UAAAW,MACfD,EAAOK,IAAPR,EAAeP,KAAE,aACjBU,EAAOM,UAAUC,EAAAT,SAAjBS,EAAAT,SAAAR,EAAA,aAAAW,MACAD,EAAOQ,UAAMlB,EAAO,+BAApBW,MAAAX,EAAA,kBAAAW,MAAAX,EAAA,+BAAAW,MACAD,EAAOS,QAAPnB,EAAmBiB,eAAAN,MACnBD,EAAOE,MAAAA,EAAP,eAAqBD,MACrBD,EAAOU,QAAUpB,EAAE,YAAAW,MACnBD,EAAAA,SAAA,OAAiBA,EAAF,SAAfW,GACAX,QAAOY,IAAPD,MAGCE,eAtBFrB,SAoBCsB,GAlBD,IAsBHD,EAtBGC,EAAAC,KAAA,cAuBKR,IAvBLR,KAwBKiB,SAAQA,IAGXC,eAAA,SAAAC,GA3BF,IAAAC,EAAA,IAAAC,OAAA,QAAAF,EAAA,gBAAA,KA+BKG,EAAI3B,OAAO4B,SAASC,OAAOC,OAAO,GAAGC,MAAMN,GAFnDF,EAAgB,GAMZE,OALIA,MAAAA,IACAE,EAAI3B,EAAO4B,KAEfD,EADAF,EAAIO,OAGEA,GAAN,IAAAA,GAAA,aAAAA,EAAA,GAAAA,GAEAC,QAvCDnC,WAEA,IAAAoC,EAAA,IAAAC,MAuCHF,EAvCGG,OAAA,WAwCKF,QAAQG,IAAIF,YAEZG,EAAAA,QAAY,WAEZJ,KAAMK,IAAU1B,KAAAX,OAAYG,KAAAmC,MAGnCC,QAjDE3C,SAEA4C,EAAAC,EAAAC,EAAAC,GAgDHJ,EAAAA,KAhDG,CAiDGK,KAAK,MACHC,IAAAA,KAAM7C,KADHwC,EAEHA,KAAKC,EACLK,SAAML,OACNM,QAAAA,EACAC,KAAAA,KAGPC,SA3DErD,SAEA4C,EAAAC,EAAAC,EAAAC,GA0DHM,EAAAA,KA1DG,CA2DGL,KAAK,OACHC,IAAAA,KAAM7C,KADHwC,EAEHA,KAAKC,EACLK,SAAML,OACNM,QAAAA,EACAC,KAAAA,KAGPE,KArEEtD,WAEA,IAAAe,EAAAR,KAqECT,EAAA,oBAAAyD,GAAA,QAAA,WACE,IAAAC,EAAA1D,EAAAS,MACEQ,EAAIyC,SAAUA,KAEjB1D,EAHD,wBAAAyD,GAAA,QAAA,WAIE,IAAAC,EAAA1D,EAAAS,MACEQ,EAAIyC,eAAJA,QA3EZF","file":"donate.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        payValue: 197,\r\n        payOrder(e) {\r\n            let that = this;\r\n            let params = {};\r\n            let invoicing = $(\"input[name=receipt]:checked\").val();\r\n\r\n            params.username = $(\"#name\").val();\r\n            params.sex = $(\"input[name=appellation]:checked\").val();\r\n            params.phone = $(\"#phone\").val();\r\n            params.email = $(\"#email\").val();\r\n            params.way = e.attr('data-type');\r\n            params.total_fee = that.payValue ? that.payValue : $(\"pay-value\").val();\r\n            params.invoicing = $(\"input[name=receipt]:checked\").val() ? $(\"#select-choice\").val() : $(\"input[name=receipt]:checked\").val();\r\n            params.invoice = $(\"#organ-name\").val();\r\n            params.TaxID = $(\"#organ-name\").val();\r\n            params.address = $(\"#address\").val();\r\n            that.postAjax('/pay', params, function (res) {\r\n                console.log(res);\r\n            })\r\n        },\r\n        changePayValue(ele) {\r\n            let that = this;\r\n            let value = ele.attr('data-value');\r\n            if (value) {\r\n                that.payValue = value;\r\n            }\r\n        },\r\n        getQueryString: function (name) {\r\n            var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n            var r = window.location.search.substr(1).match(reg); //获取url中\"?\"符后的字符串并正则匹配\r\n            var context = \"\";\r\n            if (r != null)\r\n                context = r[2];\r\n            reg = null;\r\n            r = null;\r\n            return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n        },\r\n        imgLoad() {\r\n            let image = new Image();\r\n            image.onload = function () {\r\n                console.log('success');\r\n            },\r\n                image.onerror = function () {\r\n                    this.src = that.site + +this.src;\r\n                }\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        init() {\r\n            let that = this;\r\n            $(\"#pay-methods>img\").on('click', function () {\r\n                let _this = $(this);\r\n                that.payOrder(_this);\r\n            });\r\n            $(\"#pay-methods-list>li\").on('click', function () {\r\n                let _this = $(this);\r\n                that.changePayValue(_this);\r\n            })\r\n        }\r\n    }\r\n    Base.init();\r\n});"]}