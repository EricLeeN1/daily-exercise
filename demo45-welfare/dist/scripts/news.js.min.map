{"version":3,"sources":["news.js"],"names":["$","jQuery","support","cors","window","Base","site","that","this","getInfos","postAjax","res","id","log","data","str_content","status","console","article","imgArrays","cat_id","content","str_title","attr","str_thumb","children","html","capture","replace","obj","all","element","forEach","src","append","getAjax","url","datas","fns","fnf","ajax","type","dataType","init"],"mappings":"aAAAA,EAAE,WACEC,OAAOC,QAAQC,MAAO,EADZC,OAAAC,MACHH,CACHG,KAAAA,2BACJA,SAFOH,WAGHI,IAAMC,EAAAC,KACNC,EAFGC,SAAA,OAAA,CAGKH,GAAAA,IACJA,SAAAI,GAEG,GADCC,QAAIC,IAAAF,EAAAG,KAAAC,aACU,KAAfJ,EAAAK,OAAe,CACdC,IAAQJ,EAAQC,EAAJ,2BACJE,EAAU,GACVE,EAAUlB,EAAEc,KAAAC,YAChBG,EAAIC,KAAAA,UAAJR,EAAAG,KAAAM,QACAF,EAAIG,SAAUV,MAASI,KAAAA,EAAAA,KAAvBO,WACAJ,EAAQK,SAAK,OAAWZ,KAAIG,MAAKM,EAAjCd,KAAAK,EAAAG,KAAAU,WACAN,EAAQO,SAAS,MAAMC,KAAKf,EAAIG,KAAKQ,WACrCJ,EAAQO,QAAR,qCAAoDX,SAAKU,EAAzDG,GACAT,IAAQO,EAAAA,CACAG,KAAAA,EACAC,IAAAA,EAAMvB,KAAAqB,GAENG,EAAIvB,KAAKD,KAEba,QAAAA,IAAAA,GALJA,GAOAF,EAAYE,QAAZ,SAAAY,GACexB,EAAAD,KACXa,MAAUa,EAAQF,KACdT,EAAIY,QAAW3B,EAAOyB,KAAtBA,EAAAD,OAGHZ,EAJDgB,OAAAb,QAMJH,MAAAA,EAAQgB,YAIfC,QArCFjC,SAMCkC,EAAAC,EAAAC,EAAAC,GAJDvC,EAAAwC,KAAA,CAAAC,KAAA,MAsCGD,IAAKhC,KAAAF,KAAA8B,EACHK,KAAMJ,EACND,SAAU9B,OACVQ,QAAMuB,EACNK,KAAAA,KAJGhC,SAxCRR,SAwCCkC,EAAAC,EAAAC,EAAAC,GAtCDvC,EAAAwC,KAAA,CAAAC,KAAA,OAgDGD,IAAKhC,KAAAF,KAAA8B,EACHK,KAAMJ,EACND,SAAU9B,OACVQ,QAAMuB,EACNK,KAAAA,KAJGC,KAlDRzC,WAEAe,QAAAJ,IAAA,OAAAL,KA0DCS,cAGH0B","file":"news.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        getInfos() {\r\n            let that = this;\r\n            that.postAjax('/new', {\r\n                id: 33\r\n            }, function (res) {\r\n                console.log(res.data.str_content);\r\n                if (res.status == 200) {\r\n                    let article = $('#news-body>main>article');\r\n                    let imgArrays = [];\r\n                    let content = res.data.str_content;\r\n                    article.attr('data-id', res.data.cat_id)\r\n                    article.children(\"h3\").html(res.data.str_title);\r\n                    article.children(\"img\").attr('src', that.site + res.data.str_thumb);\r\n                    article.children(\"h3\").html(res.data.str_title);\r\n                    content.replace(/<img [^>]*src=['\"]([^'\"]+)[^>]*>/gi, function (match, capture) {\r\n                        let obj = {\r\n                            half:capture,\r\n                            all:that.site + capture\r\n                        }\r\n                        imgArrays.push(obj);\r\n                    });\r\n                    console.log(imgArrays);\r\n                    if (imgArrays) {\r\n                        imgArrays.forEach(element => {\r\n                            let src = that.site + element;\r\n                            alert(element.all);\r\n                            content.replace(element.half, element.all);\r\n                        });\r\n                    }\r\n                    article.append(content);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        init() {\r\n            console.log('111');\r\n            let that = this;\r\n            that.getInfos();\r\n        }\r\n    }\r\n    Base.init();\r\n});"]}