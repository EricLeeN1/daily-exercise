"use strict";$(function(){jQuery.support.cors=!0;window.Base;({site:"https://www.doubaner.top",getInfos:function(){var i=this,t=i.getQueryString("id");i.postAjax("/new",{id:t},function(t){if(200==t.status){var n=$("#news-body>main>article"),a=[],e=t.data.str_content;n.attr("data-id",t.data.cat_id),n.children("h3").html(t.data.str_title),n.children("img").attr("src",i.site+t.data.str_thumb),n.children("h3").html(t.data.str_title),e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,function(t,n){a.push(n)}),console.log(a),a&&a.forEach(function(t){var n=i.site+t;e.replace(t,n)}),n.append(e)}else alert(t.message)})},getQueryString:function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(n),e="";return null!=a&&(e=a[2]),(a=n=null)==e||""==e||"undefined"==e?"":e},imgLoad:function(){var t=new Image;t.onload=function(){console.log("success")},t.onerror=function(){this.src=that.site+ +this.src}},getAjax:function(t,n,a,e){$.ajax({type:"GET",url:this.site+t,data:n,dataType:"JSON",success:a,fail:e})},postAjax:function(t,n,a,e){$.ajax({type:"POST",url:this.site+t,data:n,dataType:"json",success:a,fail:e})},init:function(){console.log("111");this.getInfos()}}).init()});
//# sourceMappingURL=news.js.map
