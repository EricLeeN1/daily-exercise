{"version":3,"sources":["index.js"],"names":["$","jQuery","support","cors","window","Base","site","Swiper","use","setSwiper","myPlugin","name","debugger","init","this","params","click","e","tap","doubleTap","sliderMove","slideChange","slideChangeTransitionStart","slideChangeTransitionEnd","transitionStart","transitionEnd","fromEdge","reachBeginning","reachEnd","autoplay","el","pagination","swiper1","disableOnInteraction","loop","swiper2","effect","grabCursor","centeredSlides","slidesPerView","coverflowEffect","rotate","stretch","depth","slideShadows","swiper3","setSeo","getAjax","res","status","text","data","title","attr","message","getBannerInfos","alert","welfareDatas","next","aims","countUp","num","total","newsList8","that","column","StrategyList","datas","swiperSlides","forEach","ele","str_thumb","imgSite","str_title","html","newsList9","index","str_id","sliderDescArr","slideCarsousel","slideType","indicatorEvent","i","push","Array","join","length","fns","logo","link_url","fnf","type","success","fail","url","companyList","setTimeout","dataType","imgs","INow","target","off","onclick","Tab","goPre","goNext","left","right","n","style","transform"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    // import ajax from './ajaxModules.js';\r\n    // Base.ajax = ajax;\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        setSwiper() {\r\n            let myPlugin = {\r\n                name: 'debugger',\r\n                params: {\r\n                    debugger: false,\r\n                },\r\n                on: {\r\n                    init: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('init');\r\n                    },\r\n                    click: function (e) {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('click');\r\n                    },\r\n                    tap: function (e) {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('tap');\r\n                    },\r\n                    doubleTap: function (e) {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('doubleTap');\r\n                    },\r\n                    sliderMove: function (e) {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('sliderMove');\r\n                    },\r\n                    slideChange: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('slideChange', this.previousIndex, '->', this.activeIndex);\r\n                    },\r\n                    slideChangeTransitionStart: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('slideChangeTransitionStart');\r\n                    },\r\n                    slideChangeTransitionEnd: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('slideChangeTransitionEnd');\r\n                    },\r\n                    transitionStart: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('transitionStart');\r\n                    },\r\n                    transitionEnd: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('transitionEnd');\r\n                    },\r\n                    fromEdge: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('fromEdge');\r\n                    },\r\n                    reachBeginning: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('reachBeginning');\r\n                    },\r\n                    reachEnd: function () {\r\n                        if (!this.params.debugger) return;\r\n                        // console.log('reachEnd');\r\n                    },\r\n                }\r\n            };\r\n            // Install Plugin To Swiper\r\n            Swiper.use(myPlugin);\r\n\r\n            // Init Swiper\r\n            let swiper = new Swiper('.swiper', {\r\n                autoplay: false,\r\n                // loop: true,\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                    clickable: true,\r\n                },\r\n                // navigation: {\r\n                //     nextEl: '.swiper-button-next',\r\n                //     prevEl: '.swiper-button-prev',\r\n                // },\r\n                // Enable debugger\r\n                debugger: true,\r\n            });\r\n            let swiper1 = new Swiper('.swiper1', {\r\n                autoplay: {\r\n                    delay: 2500,\r\n                    disableOnInteraction: false,\r\n                },\r\n                loop: true,\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                    clickable: true,\r\n                },\r\n                // navigation: {\r\n                //     nextEl: '.swiper-button-next',\r\n                //     prevEl: '.swiper-button-prev',\r\n                // },\r\n                // Enable debugger\r\n                debugger: true,\r\n            });\r\n            let swiper2 = new Swiper('.swiper2', {\r\n                autoplay: {\r\n                    delay: 2500,\r\n                    disableOnInteraction: false,\r\n                },\r\n                loop: true,\r\n                effect: 'coverflow',\r\n                grabCursor: true,\r\n                centeredSlides: true,\r\n                slidesPerView: 'auto',\r\n                coverflowEffect: {\r\n                    rotate: 30,\r\n                    stretch: 30,\r\n                    depth: 100,\r\n                    modifier: 1,\r\n                    slideShadows: true,\r\n                },\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                },\r\n                // navigation: {\r\n                //     nextEl: '.swiper-button-next',\r\n                //     prevEl: '.swiper-button-prev',\r\n                // },\r\n                // Enable debugger\r\n                debugger: true,\r\n            });\r\n            var swiper3 = new Swiper('.swiper3', {\r\n                slidesPerView: 'auto',\r\n                autoplay: {\r\n                    delay: 2500,\r\n                    disableOnInteraction: false,\r\n                },\r\n                loop: true,\r\n                centeredSlides: true,\r\n                spaceBetween: 30\r\n            });\r\n        },\r\n        setSeo() {\r\n            let that = this;\r\n            that.getAjax('/seo', {}, function (res) {\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"title\").text(res.data.title);\r\n                    $(\"meta[name='keywords']\").attr('content', res.data['keywords']);\r\n                    $(\"meta[name='description']\").attr('content', res.data['description']);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            })\r\n\r\n        },\r\n        getBannerInfos() {\r\n            this.getAjax('/intro', {}, function (res) {\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"#banner>.swiper-wrapper>.swiper-slide>.activity-des>p\").text(res.data);\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        welfareDatas() {\r\n            this.getAjax('/data', {}, function (res) {\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    $(\"#donate .donate-icon-1\").next().text(res.data.aims).countUp();;\r\n                    $(\"#donate .donate-icon-2\").next().text(res.data.num).countUp();;\r\n                    $(\"#donate .donate-icon-3\").next().text(res.data.total).countUp();;\r\n                    $(\"#donate .donate-icon-4\").next().text(res.data.sumofcinemas).countUp();;\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        newsList8() {\r\n            let that = this;\r\n            this.getAjax('/newsList/column/8', {\r\n                column: 8\r\n            }, function (res) {\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data.StrategyList;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach(ele => {\r\n                            let imgSite = that.site + ele.str_thumb;\r\n                            swiperSlides += `\r\n                            <a href=\"./news.html?id=${ele.str_id}\" class=\"swiper-slide\" data-id=\"${ele.str_id}\">\r\n                                <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                                <h3>${ele.str_title}</h3>\r\n                            </a>\r\n                            `;\r\n                        });\r\n                        // console.log(swiperSlides);\r\n                        $(\"#action>.swiper-wrapper\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#action>.swiper-wrapper\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        newsList9() {\r\n            let that = this;\r\n            that.getAjax('/newsList/column/9', {\r\n                column: 9\r\n            }, function (res) {\r\n                // console.log('9');\r\n                // console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data.StrategyList;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach((ele, index) => {\r\n                            let imgSite = that.site + ele.str_thumb;\r\n                            swiperSlides +=\r\n                                `\r\n                            <li class=\"item-${index}\">\r\n                                <div class=\"item-content\">\r\n                                    <a href=\"./news.html?id=${ele.str_id}\">\r\n                                        <img class=\"cover-img\" src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                                    </a>\r\n                                </div>\r\n                            </li>`\r\n                        });\r\n                        swiperSlides = `<ul  class=\"item-list clearfix\">` + swiperSlides + `</ul>`;\r\n                        $(\"#wrap\").html(swiperSlides);\r\n                        //3d\r\n                        $('#wrap').slideCarsousel({\r\n                            slideType: '3d',\r\n                            indicatorEvent: 'mouseover'\r\n                        });\r\n                        //2d\r\n                        var sliderDescArr = [],\r\n                            i = 0,\r\n                            len = 10;\r\n                        for (; i < len; i++) {\r\n                            sliderDescArr.push(new Array(10).join('' + i));\r\n                        }\r\n                        $('#sliderDesc').text(sliderDescArr[0]);\r\n                    } else {\r\n                        $(\"#donate-star>#wrap\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        companyList() {\r\n            let that = this;\r\n            that.getAjax('/companyList', {}, function (res) {\r\n                if (res.status == 200) {\r\n                    $(\"#donate-company\");\r\n                    let datas = res.data;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach(ele => {\r\n                            let imgSite = that.site + ele.logo;\r\n                            swiperSlides += `\r\n                            <a href=\"${ele.link_url}\" class=\"swiper-slide\" data-id=\"${ele.str_id}\" target=\"_blank\">\r\n                                <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                            </a>\r\n                            `;\r\n                        });\r\n                        $(\"#donate-company>.swiper-wrapper\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#donate-company>.swiper-wrapper\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        init() {\r\n            let that = this;\r\n            that.getBannerInfos();\r\n            that.welfareDatas();\r\n            that.newsList8();\r\n            that.newsList9();\r\n            that.setSeo();\r\n            that.companyList();\r\n            setTimeout(() => {\r\n                that.setSwiper();\r\n            }, 1000);\r\n        }\r\n    }\r\n    Base.init();\r\n    setTimeout(() => {\r\n        // var wrap = document.getElementById(wrap);\r\n        // var imgs = wrap.getElementByTagName('a');\r\n        var imgs = $('#wrap a');\r\n\r\n        //对照片进行for循环   因为左右两边是对称的，所以不需要循环imgs.length次，而是imgs.length/2\r\n        //把第三张图片放在正中央   左右分别放三张  \r\n        var INow = 2;\r\n        var target = 0;\r\n        //解决疯狂点击   用一个类似于锁的变量\r\n        var off = true;\r\n        Tab(INow);\r\n        //0 1 2 3 4 5 6\r\n        //4 5 6 0 1 2 3\r\n        //3 4 5 6 0 1 2\r\n        for (var i = 0; i < imgs.length; i++) {\r\n            //为每一张图片创建一个index\r\n            imgs[i].index = i;\r\n            //对图片创建点击事件\r\n            imgs[i].onclick = function () {\r\n                target = this.index;\r\n                //如果门是关了的，就不执行下面的代码\r\n                if (!off) {\r\n                    return;\r\n                }\r\n                off = false;\r\n                if (target > INow) {\r\n                    //4 5  6\r\n                    if (target - INow <= 2) {\r\n                        goNext();\r\n                    } else {\r\n                        goPre();\r\n\r\n                    }\r\n                }\r\n                //就把哪一张放在中间\r\n                else {\r\n                    //0 1 2\r\n                    if (target + 5 - INow <= 2) {\r\n                        goNext();\r\n                    } else {\r\n                        goPre();\r\n                    }\r\n                }\r\n\r\n\r\n            };\r\n        }\r\n\r\n        function goNext() {\r\n            INow++;\r\n            if (INow > 4) {\r\n                INow = 0;\r\n            }\r\n            Tab(INow);\r\n            //如果到了目标点的时候就停止移动\r\n            if (INow == target) {\r\n                off = true;\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                goNext();\r\n            }, 700);\r\n        }\r\n\r\n        function goPre() {\r\n            INow--;\r\n            if (INow < 0) {\r\n                INow = 4;\r\n            }\r\n            Tab(INow);\r\n            //如果到了目标点的时候就停止移动\r\n            if (INow == target) {\r\n                off = true;\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                goPre();\r\n            }, 700);\r\n        }\r\n        //函数封装   将第几张图片放在正中央\r\n        //0 1 2 3 4 5 6\r\n        //4 5 6 0 1 2 3\r\n        //3 4 5 6 0 1 2\r\n        function Tab(n) {\r\n            for (var i = 0; i < 2; i++) {\r\n                var left = n - 1 - i;\r\n                //0在中间\r\n                if (left < 0) {\r\n                    left = left + 5;\r\n                }\r\n                imgs[left].style.transform = 'translateX(' + (-150 * (i + 1)) + 'px)translateZ(' + (150 - 100 * i) + 'px)rotateY(30deg)';\r\n                //6在中间\r\n                var right = n + 1 + i;\r\n                if (right > 4) {\r\n                    right = right - 5;\r\n                }\r\n\r\n                imgs[right].style.transform = 'translateX(' + (150 * (i + 1)) + 'px)translateZ(' + (150 - 100 * i) + 'px)rotateY(-30deg)';\r\n            }\r\n            imgs[INow].style.transform = 'translateZ(300px)';\r\n        };\r\n    }, 2000);\r\n})"]}