{"version":3,"sources":["company.js"],"names":["$","jQuery","support","cors","window","Base","site","that","this","companyList","res","log","getAjax","status","console","data","length","datas","ele","swiperSlides","logo","imgSite","str_title","html","alert","message","getQueryString","context","name","r","RegExp","reg","location","search","substr","match","image","imgLoad","onload","ajax","onerror","type","src","dataType","fns","fnf","success","fail","url","init"],"mappings":"aAAAA,EAAE,WACEC,OAAOC,QAAQC,MAAO,EADZC,OAAAC,MACHH,CACHG,KAAAA,2BACJA,YAFOH,WAGHI,IAAMC,EAAAC,KACNC,EAAAA,QAFG,eAAA,GAEW,SAAAC,GAEVH,GADIA,QAAOI,IAAXD,GACa,KAARE,EAALC,OAAA,CACIC,IAAQH,EAARD,EAAAK,KACIL,GAAmB,EAAfG,EAAJG,OAAmB,CACfC,IAAAA,EAAJ,GACIA,EAAMD,QAAN,SAAAE,GACIC,IAAAA,EAAAA,EAAJb,KAAAY,EAAAE,KACAH,GAAAA,4EAEIE,EAAAA,SAFJF,mCAEIE,EAAAA,OAFJF,iEAAAI,EAAAJ,UAAAC,EAAAI,UAAAL,0GAcHH,QAAAH,IAAAQ,GACEnB,EAAA,iBAAAuB,KAAAJ,QAENnB,EAAA,iBAAAuB,KAAA,0BADGC,MAAMd,EAAIe,YAOlBC,eAAIC,SAAJC,GACA,IAAIC,EAAK,IAATC,OACIH,QAAAC,EAAA,gBAAA,KACJG,EAAM3B,OAAN4B,SAAAC,OAAAC,OAAA,GAAAC,MAAAJ,GACIJ,EAAJ,GAKAS,OAJOT,MAAPE,IAtCDF,EAAAE,EAAA,KAyCCA,EADJQ,EAxCG,OA0COC,GAAqB,IAAZX,GAAY,aAAAA,EAAA,GAAAA,GAEtBU,QA9CNnC,WAgDS,IAAAkC,EAAA,IAAW7B,MACd6B,EALLE,OAAA,WA1CDxB,QAAAH,IAAA,YAkDG4B,EAAKC,QAAA,WACHC,KAAMC,IADHnC,KAAAD,OAAAE,KAAAkC,MAIHC,QAxDLzC,SAwDKyC,EAAAA,EAAUC,EAJPC,GAKHC,EAAAA,KAAAA,CACAC,KAAMF,MANVG,IAAAxC,KAAAF,KAAA0C,EAlDDjC,KAAAE,EAAA0B,SAAA,OA4DGJ,QAAKK,EACHH,KAAMI,KAGNF,SAlELzC,SAkEKyC,EAAAA,EAAUC,EAJPC,GAKHC,EAAAA,KAAAA,CACAC,KAAMF,OANVG,IAAAxC,KAAAF,KAAA0C,EA5DDjC,KAAAE,EAAA0B,SAAA,OAsEC7B,QAAY8B,EACRrC,KAAAA,KAvEZ0C,KAFO/C,WA6EF+C,QAALtC,IAAA,OA9EJH,KA2EiBC,iBAGRwC","file":"company.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        companyList() {\r\n            let that = this;\r\n            that.getAjax('/companyList', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data;\r\n                    if (datas.length > 0) {\r\n                        let swiperSlides = '';\r\n                        datas.forEach(ele => {\r\n                            let imgSite = that.site + ele.logo;\r\n                            swiperSlides += `\r\n                            <li>\r\n                            <a href=\"${ele.link_url}\" class=\"swiper-slide\" data-id=\"${ele.str_id}\" target=\"_blank\">\r\n                                <img src=\"${imgSite}\" alt=\"${ele.str_title}\">\r\n                            </a>\r\n                            </li>\r\n                            `;\r\n                        });\r\n                        console.log(swiperSlides);\r\n                        $(\"#company-list\").html(swiperSlides);\r\n                    } else {\r\n                        $(\"#company-list\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        getQueryString: function (name) {\r\n            var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n            var r = window.location.search.substr(1).match(reg); //获取url中\"?\"符后的字符串并正则匹配\r\n            var context = \"\";\r\n            if (r != null)\r\n                context = r[2];\r\n            reg = null;\r\n            r = null;\r\n            return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n        },\r\n        imgLoad() {\r\n            let image = new Image();\r\n            image.onload = function () {\r\n                    console.log('success');\r\n                },\r\n                image.onerror = function () {\r\n                    this.src = that.site + +this.src;\r\n                }\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        init() {\r\n            console.log('111');\r\n            let that = this;\r\n            that.companyList();\r\n        }\r\n    }\r\n    Base.init();\r\n});"]}