{"version":3,"sources":["loveshow.js"],"names":["$","jQuery","support","cors","window","Base","site","that","this","showList","getAjax","res","log","status","console","data","length","datas","ele","showitem","file","html","time","alert","message","getQueryString","context","name","r","RegExp","reg","location","search","substr","match","image","imgLoad","onload","ajax","onerror","type","src","dataType","fns","fnf","success","fail","url","init"],"mappings":"aAAAA,EAAE,WACEC,OAAOC,QAAQC,MAAO,EADZC,OAAAC,MACHH,CACHG,KAAAA,2BACJA,SAFOH,WAGHI,IAAMC,EAAAC,KACNC,EAFGC,QAAA,eAEQ,GAAA,SAAAC,GAEPJ,GADIA,QAAOK,IAAXD,GACa,KAARD,EAALG,OAAA,CACIC,IAAQF,EAARD,EAAAI,KACIJ,GAAmB,EAAfE,EAAJG,OAAmB,CACfC,IAAAA,EAAYF,GACZE,EAAMD,QAAN,SAAAE,GACIC,GAAAA,2EAEAA,EAAAA,MAFAA,oDACJZ,EAAAD,KAAAY,EAAAE,MADID,gBACJZ,EAAAD,KAAAY,EAAAE,MADID,qDAUYE,EAAhBC,KAVIH,6EAcLnB,EAAA,cAAAqB,KAAAF,QAENnB,EAAA,cAAAqB,KAAA,0BADGE,MAAMZ,EAAIa,YAOlBC,eAAIC,SAAJC,GACA,IAAIC,EAAK,IAATC,OACIH,QAAAC,EAAA,gBAAA,KACJG,EAAM1B,OAAN2B,SAAAC,OAAAC,OAAA,GAAAC,MAAAJ,GACIJ,EAAJ,GAKAS,OAJOT,MAAPE,IApCDF,EAAAE,EAAA,KAuCCA,EADJQ,EAtCG,OAwCOC,GAAqB,IAAZX,GAAY,aAAAA,EAAA,GAAAA,GAEtBU,QA5CNlC,WA8CS,IAAAiC,EAAA,IAAW5B,MACd4B,EALLE,OAAA,WAxCDvB,QAAAF,IAAA,YAgDG0B,EAAKC,QAAA,WACHC,KAAMC,IADHlC,KAAAD,OAAAE,KAAAiC,MAIHC,QAtDLxC,SAsDKwC,EAAAA,EAAUC,EAJPC,GAKHC,EAAAA,KAAAA,CACAC,KAAMF,MANVG,IAAAvC,KAAAF,KAAAyC,EAhDDhC,KAAAE,EAAAyB,SAAA,OA0DGJ,QAAKK,EACHH,KAAMI,KAGNF,SAhELxC,SAgEKwC,EAAAA,EAAUC,EAJPC,GAKHC,EAAAA,KAAAA,CACAC,KAAMF,OANVG,IAAAvC,KAAAF,KAAAyC,EA1DDhC,KAAAE,EAAAyB,SAAA,OAoEC5B,QAAY6B,EACRpC,KAAAA,KArEZyC,KAFO9C,WA2EF8C,QAALpC,IAAA,OA5EJJ,KAyEiBC,cAGRuC","file":"loveshow.js","sourcesContent":["$(function () {\r\n    jQuery.support.cors = true;\r\n    let Base = window.Base || {};\r\n    Base = {\r\n        site: 'https://www.doubaner.top',\r\n        showList() {\r\n            let that = this;\r\n            that.getAjax('/publicity/2', {}, function (res) {\r\n                console.log(res);\r\n                if (res.status == 200) {\r\n                    let datas = res.data;\r\n                    if (datas.length > 0) {\r\n                        let showitem = '';\r\n                        datas.forEach(ele => {\r\n                            showitem += `\r\n                            <li>\r\n                                <h3>${ele.title}</h3>\r\n                                <a href=\"${that.site+ele.file}\" download=\"${that.site+ele.file}\">立即下载</a>\r\n                                <span>${ele.time}</span>\r\n                            </li>\r\n                            `;\r\n                        });\r\n                        $(\"#show-list\").html(showitem);\r\n                    } else {\r\n                        $(\"#show-list\").html('<h3>这里还什么都没有</h3>');\r\n                    }\r\n                } else {\r\n                    alert(res.message);\r\n                }\r\n            });\r\n        },\r\n        getQueryString: function (name) {\r\n            var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n            var r = window.location.search.substr(1).match(reg); //获取url中\"?\"符后的字符串并正则匹配\r\n            var context = \"\";\r\n            if (r != null)\r\n                context = r[2];\r\n            reg = null;\r\n            r = null;\r\n            return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n        },\r\n        imgLoad() {\r\n            let image = new Image();\r\n            image.onload = function () {\r\n                    console.log('success');\r\n                },\r\n                image.onerror = function () {\r\n                    this.src = that.site + +this.src;\r\n                }\r\n        },\r\n        getAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'JSON',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        postAjax(url, datas, fns, fnf) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: this.site + url,\r\n                data: datas,\r\n                dataType: 'json',\r\n                success: fns,\r\n                fail: fnf\r\n            });\r\n        },\r\n        init() {\r\n            console.log('111');\r\n            let that = this;\r\n            that.showList();\r\n        }\r\n    }\r\n    Base.init();\r\n});"]}