"use strict";$(function(){jQuery.support.cors=!0;window.Base;({site:"https://www.doubaner.top",payValue:197,payOrder:function(e){var a=this,t={},n=$("input[name=receipt]:checked").val();console.log(n),t.username=$("#name").val(),t.sex=$("input[name=appellation]:checked").val(),t.phone=$("#phone").val(),t.email=$("#email").val(),t.way=e.attr("data-type"),t.total_fee=a.payValue?a.payValue:$("pay-value").val(),t.invoicing=n?$("#select-choice").val():0,t.invoice=$("#organ-name").val(),t.TaxID=$("#organ-name").val(),t.address=$("#address").val(),t.username?($("#name").next("span").text(""),/^1[3-8]\d{9}$/.test(t.phone)?($("#phone").next("span").text(""),/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g.test(t.email)?($("#email").next("span").text(""),t.address?($("#address").next("span").text(""),!n||t.invoice?($("#organ-name").next("span").text(""),!n||t.TaxID?($("#taxid").next("span").text(""),console.log(t),a.postAjax("/pay",t,function(e){console.log(e)})):$("#taxid").next("span").text("请输入税号")):$("#organ-name").next("span").text("请输入发票抬头")):$("#address").next("span").text("邮寄地址不能为空")):$("#email").next("span").text("电子邮箱格式不对")):$("#phone").next("span").text("手机号码格式不对")):$("#name").next("span").text("您还没有填写名字呢")},blurCheck:function(e){var a=e.val(),t=e.attr("data-check"),n=$("input[name=receipt]:checked").val();switch(t){case"name":a?$("#name").next("span").text(""):$("#name").next("span").text("您还没有填写名字呢");break;case"phone":/^1[3-8]\d{9}$/.test(a)?$("#phone").next("span").text(""):$("#phone").next("span").text("手机号码格式不对");break;case"email":/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g.test(a)?$("#email").next("span").text(""):$("#email").next("span").text("电子邮箱格式不对");break;case"address":a?$("#address").next("span").text(""):$("#address").next("span").text("邮寄地址不能为空");break;case"organ-name":n&&!a?$("#organ-name").next("span").text("请输入发票抬头1"):$("#organ-name").next("span").text("");break;case"taxid":n&&!a?$("#taxid").next("span").text("请输入税号"):$("#taxid").next("span").text("")}},changePayValue:function(e){var a=e.attr("data-value");a&&(this.payValue=a)},getQueryString:function(e){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(a),n="";return null!=t&&(n=t[2]),(t=a=null)==n||""==n||"undefined"==n?"":n},imgLoad:function(){var e=new Image;e.onload=function(){console.log("success")},e.onerror=function(){this.src=that.site+ +this.src}},getAjax:function(e,a,t,n){$.ajax({type:"GET",url:this.site+e,data:a,dataType:"JSON",success:t,fail:n})},postAjax:function(e,a,t,n){$.ajax({type:"POST",url:this.site+e,data:a,dataType:"json",success:t,fail:n})},init:function(){var a=this;$("#pay-methods>img").on("click",function(){var e=$(this);a.payOrder(e)}),$("#pay-methods-list>li").on("click",function(){var e=$(this);a.changePayValue(e)}),$("#form-group input[data-check]").on("blur",function(){var e=$(this);a.blurCheck(e)})}}).init()});
//# sourceMappingURL=donate.js.map
